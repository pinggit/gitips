<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.5">
<meta name="author" content="Ping Song">
<title>git tutorial</title>
<style>
@import url(https://fonts.googleapis.com/css?family=Varela+Round|Open+Sans:400italic,600italic,400,600|Ubuntu+Mono:400);
/*! normalize.css v2.1.2 | MIT License | git.io/normalize */
/* ========================================================================== HTML5 display definitions ========================================================================== */
/** Correct `block` display not defined in IE 8/9. */
article, aside, details, figcaption, figure, footer, header, hgroup, main, nav, section, summary { display: block; }

/** Correct `inline-block` display not defined in IE 8/9. */
audio, canvas, video { display: inline-block; }

/** Prevent modern browsers from displaying `audio` without controls. Remove excess height in iOS 5 devices. */
audio:not([controls]) { display: none; height: 0; }

/** Address `[hidden]` styling not present in IE 8/9. Hide the `template` element in IE, Safari, and Firefox < 22. */
[hidden], template { display: none; }

script { display: none !important; }

/* ========================================================================== Base ========================================================================== */
/** 1. Set default font family to sans-serif. 2. Prevent iOS text size adjust after orientation change, without disabling user zoom. */
html { font-family: sans-serif; /* 1 */ -ms-text-size-adjust: 100%; /* 2 */ -webkit-text-size-adjust: 100%; /* 2 */ }

/** Remove default margin. */
body { margin: 0; }

/* ========================================================================== Links ========================================================================== */
/** Remove the gray background color from active links in IE 10. */
a { background: transparent; }

/** Address `outline` inconsistency between Chrome and other browsers. */
a:focus { outline: thin dotted; }

/** Improve readability when focused and also mouse hovered in all browsers. */
a:active, a:hover { outline: 0; }

/* ========================================================================== Typography ========================================================================== */
/** Address variable `h1` font-size and margin within `section` and `article` contexts in Firefox 4+, Safari 5, and Chrome. */
h1 { font-size: 2em; margin: 0.67em 0; }

/** Address styling not present in IE 8/9, Safari 5, and Chrome. */
abbr[title] { border-bottom: 1px dotted; }

/** Address style set to `bolder` in Firefox 4+, Safari 5, and Chrome. */
b, strong { font-weight: bold; }

/** Address styling not present in Safari 5 and Chrome. */
dfn { font-style: italic; }

/** Address differences between Firefox and other browsers. */
hr { -moz-box-sizing: content-box; box-sizing: content-box; height: 0; }

/** Address styling not present in IE 8/9. */
mark { background: #ff0; color: #000; }

/** Correct font family set oddly in Safari 5 and Chrome. */
code, kbd, pre, samp { font-family: monospace, serif; font-size: 1em; }

/** Improve readability of pre-formatted text in all browsers. */
pre { white-space: pre-wrap; }

/** Set consistent quote types. */
q { quotes: "\201C" "\201D" "\2018" "\2019"; }

/** Address inconsistent and variable font size in all browsers. */
small { font-size: 80%; }

/** Prevent `sub` and `sup` affecting `line-height` in all browsers. */
sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }

sup { top: -0.5em; }

sub { bottom: -0.25em; }

/* ========================================================================== Embedded content ========================================================================== */
/** Remove border when inside `a` element in IE 8/9. */
img { border: 0; }

/** Correct overflow displayed oddly in IE 9. */
svg:not(:root) { overflow: hidden; }

/* ========================================================================== Figures ========================================================================== */
/** Address margin not present in IE 8/9 and Safari 5. */
figure { margin: 0; }

/* ========================================================================== Forms ========================================================================== */
/** Define consistent border, margin, and padding. */
fieldset { border: 1px solid #c0c0c0; margin: 0 2px; padding: 0.35em 0.625em 0.75em; }

/** 1. Correct `color` not being inherited in IE 8/9. 2. Remove padding so people aren't caught out if they zero out fieldsets. */
legend { border: 0; /* 1 */ padding: 0; /* 2 */ }

/** 1. Correct font family not being inherited in all browsers. 2. Correct font size not being inherited in all browsers. 3. Address margins set differently in Firefox 4+, Safari 5, and Chrome. */
button, input, select, textarea { font-family: inherit; /* 1 */ font-size: 100%; /* 2 */ margin: 0; /* 3 */ }

/** Address Firefox 4+ setting `line-height` on `input` using `!important` in the UA stylesheet. */
button, input { line-height: normal; }

/** Address inconsistent `text-transform` inheritance for `button` and `select`. All other form control elements do not inherit `text-transform` values. Correct `button` style inheritance in Chrome, Safari 5+, and IE 8+. Correct `select` style inheritance in Firefox 4+ and Opera. */
button, select { text-transform: none; }

/** 1. Avoid the WebKit bug in Android 4.0.* where (2) destroys native `audio` and `video` controls. 2. Correct inability to style clickable `input` types in iOS. 3. Improve usability and consistency of cursor style between image-type `input` and others. */
button, html input[type="button"], input[type="reset"], input[type="submit"] { -webkit-appearance: button; /* 2 */ cursor: pointer; /* 3 */ }

/** Re-set default cursor for disabled elements. */
button[disabled], html input[disabled] { cursor: default; }

/** 1. Address box sizing set to `content-box` in IE 8/9. 2. Remove excess padding in IE 8/9. */
input[type="checkbox"], input[type="radio"] { box-sizing: border-box; /* 1 */ padding: 0; /* 2 */ }

/** 1. Address `appearance` set to `searchfield` in Safari 5 and Chrome. 2. Address `box-sizing` set to `border-box` in Safari 5 and Chrome (include `-moz` to future-proof). */
input[type="search"] { -webkit-appearance: textfield; /* 1 */ -moz-box-sizing: content-box; -webkit-box-sizing: content-box; /* 2 */ box-sizing: content-box; }

/** Remove inner padding and search cancel button in Safari 5 and Chrome on OS X. */
input[type="search"]::-webkit-search-cancel-button, input[type="search"]::-webkit-search-decoration { -webkit-appearance: none; }

/** Remove inner padding and border in Firefox 4+. */
button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0; }

/** 1. Remove default vertical scrollbar in IE 8/9. 2. Improve readability and alignment in all browsers. */
textarea { overflow: auto; /* 1 */ vertical-align: top; /* 2 */ }

/* ========================================================================== Tables ========================================================================== */
/** Remove most spacing between table cells. */
table { border-collapse: collapse; border-spacing: 0; }

meta.foundation-mq-small { font-family: "only screen and (min-width: 768px)"; width: 768px; }

meta.foundation-mq-medium { font-family: "only screen and (min-width:1280px)"; width: 1280px; }

meta.foundation-mq-large { font-family: "only screen and (min-width:1440px)"; width: 1440px; }

*, *:before, *:after { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; }

html, body { font-size: 100%; }

body { background: #fefdfd; color: rgba(0, 0, 0, 0.8); padding: 0; margin: 0; font-family: "Open Sans", sans-serif; font-weight: normal; font-style: normal; line-height: 1; position: relative; cursor: auto; }

a:hover { cursor: pointer; }

img, object, embed { max-width: 100%; height: auto; }

object, embed { height: 100%; }

img { -ms-interpolation-mode: bicubic; }

#map_canvas img, #map_canvas embed, #map_canvas object, .map_canvas img, .map_canvas embed, .map_canvas object { max-width: none !important; }

.left { float: left !important; }

.right { float: right !important; }

.text-left { text-align: left !important; }

.text-right { text-align: right !important; }

.text-center { text-align: center !important; }

.text-justify { text-align: justify !important; }

.hide { display: none; }

.antialiased, body { -webkit-font-smoothing: antialiased; }

img { display: inline-block; vertical-align: middle; }

textarea { height: auto; min-height: 50px; }

select { width: 100%; }

object, svg { display: inline-block; vertical-align: middle; }

.center { margin-left: auto; margin-right: auto; }

.spread { width: 100%; }

p.lead, .paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { font-size: 1.21875em; line-height: 1.6; }

.subheader, .admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { line-height: 1.25; color: #002c5e; font-weight: 300; margin-top: 0.2em; margin-bottom: 0.5em; }

/* Typography resets */
div, dl, dt, dd, ul, ol, li, h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6, pre, form, p, blockquote, th, td { margin: 0; padding: 0; direction: ltr; }

/* Default Link Styles */
a { color: #005580; text-decoration: underline; line-height: inherit; }
a:hover, a:focus { color: #078d71; }
a img { border: none; }

/* Default paragraph styles */
p { font-family: inherit; font-weight: normal; font-size: 1em; line-height: 1.5; margin-bottom: 1.25em; text-rendering: optimizeLegibility; }
p aside { font-size: 0.875em; line-height: 1.35; font-style: italic; }

/* Default header styles */
h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { font-family: "Varela Round", sans-serif; font-weight: 400; font-style: normal; color: #00326b; text-rendering: optimizeLegibility; margin-top: 0.8em; margin-bottom: 0.5em; line-height: 1.0625em; }
h1 small, h2 small, h3 small, #toctitle small, .sidebarblock > .content > .title small, h4 small, h5 small, h6 small { font-size: 60%; color: #057aff; line-height: 0; }

h1 { font-size: 2.125em; }

h2 { font-size: 1.6875em; }

h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.375em; }

h4 { font-size: 1.125em; }

h5 { font-size: 1.125em; }

h6 { font-size: 1em; }

hr { border: solid rgba(145, 135, 84, 0.15); border-width: 1px 0 0; clear: both; margin: 1.25em 0 1.1875em; height: 0; }

/* Helpful Typography Defaults */
em, i { font-style: italic; line-height: inherit; }

strong, b { font-weight: bold; line-height: inherit; }

small { font-size: 60%; line-height: inherit; }

code { font-family: "Ubuntu Mono", "Inconsolata", monospace; font-weight: 400; color: #331d00; }

/* Lists */
ul, ol, dl { font-size: 1em; line-height: 1.5; margin-bottom: 1.25em; list-style-position: outside; font-family: inherit; }

ul, ol { margin-left: 1.5em; }
ul.no-bullet, ol.no-bullet { margin-left: 1.5em; }

/* Unordered Lists */
ul li ul, ul li ol { margin-left: 1.25em; margin-bottom: 0; font-size: 1em; /* Override nested font-size change */ }
ul.square li ul, ul.circle li ul, ul.disc li ul { list-style: inherit; }
ul.square { list-style-type: square; }
ul.circle { list-style-type: circle; }
ul.disc { list-style-type: disc; }
ul.no-bullet { list-style: none; }

/* Ordered Lists */
ol li ul, ol li ol { margin-left: 1.25em; margin-bottom: 0; }

/* Definition Lists */
dl dt { margin-bottom: 0.3125em; font-weight: bold; }
dl dd { margin-bottom: 1.25em; }

/* Abbreviations */
abbr, acronym { text-transform: uppercase; font-size: 90%; color: rgba(0, 0, 0, 0.8); border-bottom: 1px dotted #dddddd; cursor: help; }

abbr { text-transform: none; }

/* Blockquotes */
blockquote { margin: 0 0 1.25em; padding: 0.5625em 1.25em 0 1.1875em; border-left: 1px solid #dddddd; }
blockquote cite { display: block; font-size: 0.8125em; color: #666666; }
blockquote cite:before { content: "\2014 \0020"; }
blockquote cite a, blockquote cite a:visited { color: #666666; }

blockquote, blockquote p { line-height: 1.5; color: #999999; }

/* Microformats */
.vcard { display: inline-block; margin: 0 0 1.25em 0; border: 1px solid #dddddd; padding: 0.625em 0.75em; }
.vcard li { margin: 0; display: block; }
.vcard .fn { font-weight: bold; font-size: 0.9375em; }

.vevent .summary { font-weight: bold; }
.vevent abbr { cursor: auto; text-decoration: none; font-weight: bold; border: none; padding: 0 0.0625em; }

@media only screen and (min-width: 768px) { h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.25; }
  h1 { font-size: 2.75em; }
  h2 { font-size: 2.3125em; }
  h3, #toctitle, .sidebarblock > .content > .title { font-size: 1.6875em; }
  h4 { font-size: 1.4375em; } }
/* Tables */
table { background: white; margin-bottom: 1.25em; border: solid 1px rgba(145, 135, 84, 0.15); }
table thead, table tfoot { background: rgba(119, 84, 22, 0.1); font-weight: bold; }
table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td { padding: 0.5em 0.625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); text-align: left; }
table tr th, table tr td { padding: 0.5625em 0.625em; font-size: inherit; color: rgba(0, 0, 0, 0.8); }
table tr.even, table tr.alt, table tr:nth-of-type(even) { background: rgba(119, 84, 22, 0.025); }
table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td { display: table-cell; line-height: 1.5; }

body { tab-size: 4; }

h1, h2, h3, #toctitle, .sidebarblock > .content > .title, h4, h5, h6 { line-height: 1.25; }

.clearfix:before, .clearfix:after, .float-group:before, .float-group:after { content: " "; display: table; }
.clearfix:after, .float-group:after { clear: both; }

*:not(pre) > code { font-size: 1.0625em; font-style: normal !important; letter-spacing: 0; padding: 0; line-height: 1.25; }

pre, pre > code { line-height: 1.4; color: inherit; font-family: "Liberation Mono", "Consolas", monospace; font-weight: normal; }

.keyseq { color: rgba(51, 51, 51, 0.8); }

kbd { font-family: "Ubuntu Mono", "Inconsolata", monospace; display: inline-block; color: rgba(0, 0, 0, 0.8); font-size: 0.65em; line-height: 1.45; background-color: #f7f7f7; border: 1px solid #ccc; -webkit-border-radius: 3px; border-radius: 3px; -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; box-shadow: 0 1px 0 rgba(0, 0, 0, 0.2), 0 0 0 0.1em white inset; margin: 0 0.15em; padding: 0.2em 0.5em; vertical-align: middle; position: relative; top: -0.1em; white-space: nowrap; }

.keyseq kbd:first-child { margin-left: 0; }

.keyseq kbd:last-child { margin-right: 0; }

.menuseq, .menu { color: rgba(0, 0, 0, 0.8); }

b.button:before, b.button:after { position: relative; top: -1px; font-weight: normal; }

b.button:before { content: "["; padding: 0 3px 0 2px; }

b.button:after { content: "]"; padding: 0 2px 0 3px; }

p a > code:hover { color: #1a0f00; }

#header, #content, #footnotes, #footer { width: 100%; margin-left: auto; margin-right: auto; margin-top: 0; margin-bottom: 0; max-width: 62.5em; *zoom: 1; position: relative; padding-left: 0.9375em; padding-right: 0.9375em; }
#header:before, #header:after, #content:before, #content:after, #footnotes:before, #footnotes:after, #footer:before, #footer:after { content: " "; display: table; }
#header:after, #content:after, #footnotes:after, #footer:after { clear: both; }

#content { margin-top: 1.25em; }

#content:before { content: none; }

#header > h1:first-child { color: #703f1c; margin-top: 2.25rem; margin-bottom: 0; }
#header > h1:first-child + #toc { margin-top: 8px; border-top: 1px solid rgba(145, 135, 84, 0.15); }
#header > h1:only-child, body.toc2 #header > h1:nth-last-child(2) { border-bottom: 1px solid rgba(145, 135, 84, 0.15); padding-bottom: 8px; }
#header .details { border-bottom: 1px solid rgba(145, 135, 84, 0.15); line-height: 1.45; padding-top: 0.25em; padding-bottom: 0.25em; padding-left: 0.25em; color: #666666; display: -ms-flexbox; display: -webkit-flex; display: flex; -ms-flex-flow: row wrap; -webkit-flex-flow: row wrap; flex-flow: row wrap; }
#header .details span:first-child { margin-left: -0.125em; }
#header .details span.email a { color: #999999; }
#header .details br { display: none; }
#header .details br + span:before { content: "\00a0\2013\00a0"; }
#header .details br + span.author:before { content: "\00a0\22c5\00a0"; color: #999999; }
#header .details br + span#revremark:before { content: "\00a0|\00a0"; }
#header #revnumber { text-transform: capitalize; }
#header #revnumber:after { content: "\00a0"; }

#content > h1:first-child:not([class]) { color: #703f1c; border-bottom: 1px solid rgba(145, 135, 84, 0.15); padding-bottom: 8px; margin-top: 0; padding-top: 1rem; margin-bottom: 1.25rem; }

#toc { border-bottom: 0px solid #dddddd; padding-bottom: 0.5em; }
#toc > ul { margin-left: 0.125em; }
#toc ul.sectlevel0 > li > a { font-style: italic; }
#toc ul.sectlevel0 ul.sectlevel1 { margin: 0.5em 0; }
#toc ul { font-family: "Varela Round", sans-serif; list-style-type: none; }
#toc li { line-height: 1.3334; margin-top: 0.3334em; }
#toc a { text-decoration: none; }
#toc a:active { text-decoration: underline; }

#toctitle { color: #002c5e; font-size: 1.2em; }

@media only screen and (min-width: 768px) { #toctitle { font-size: 1.375em; }
  body.toc2 { padding-left: 15em; padding-right: 0; }
  #toc.toc2 { margin-top: 0 !important; background-color: #f2f2f4; position: fixed; width: 15em; left: 0; top: 0; border-right: 1px solid #dddddd; border-top-width: 0 !important; border-bottom-width: 0 !important; z-index: 1000; padding: 1.25em 1em; height: 100%; overflow: auto; }
  #toc.toc2 #toctitle { margin-top: 0; margin-bottom: 0.8rem; font-size: 1.2em; }
  #toc.toc2 > ul { font-size: 0.9em; margin-bottom: 0; }
  #toc.toc2 ul ul { margin-left: 0; padding-left: 1em; }
  #toc.toc2 ul.sectlevel0 ul.sectlevel1 { padding-left: 0; margin-top: 0.5em; margin-bottom: 0.5em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 15em; }
  body.toc2.toc-right #toc.toc2 { border-right-width: 0; border-left: 1px solid #dddddd; left: auto; right: 0; } }
@media only screen and (min-width: 1280px) { body.toc2 { padding-left: 20em; padding-right: 0; }
  #toc.toc2 { width: 20em; }
  #toc.toc2 #toctitle { font-size: 1.375em; }
  #toc.toc2 > ul { font-size: 0.95em; }
  #toc.toc2 ul ul { padding-left: 1.25em; }
  body.toc2.toc-right { padding-left: 0; padding-right: 20em; } }
#content #toc { border-style: solid; border-width: 1px; border-color: #d6d6dd; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f4; -webkit-border-radius: 6px; border-radius: 6px; }
#content #toc > :first-child { margin-top: 0; }
#content #toc > :last-child { margin-bottom: 0; }

#footer { max-width: 100%; background-color: #0b445a; padding: 1.25em; }

#footer-text { color: #fefdfd; line-height: 1.35; }

.sect1 { padding-bottom: 0.625em; }

@media only screen and (min-width: 768px) { .sect1 { padding-bottom: 1.25em; } }
.sect1 + .sect1 { border-top: 0px solid #dddddd; }

#content h1 > a.anchor, h2 > a.anchor, h3 > a.anchor, #toctitle > a.anchor, .sidebarblock > .content > .title > a.anchor, h4 > a.anchor, h5 > a.anchor, h6 > a.anchor { position: absolute; z-index: 1001; width: 1.5ex; margin-left: -1.5ex; display: block; text-decoration: none !important; visibility: hidden; text-align: center; font-weight: normal; }
#content h1 > a.anchor:before, h2 > a.anchor:before, h3 > a.anchor:before, #toctitle > a.anchor:before, .sidebarblock > .content > .title > a.anchor:before, h4 > a.anchor:before, h5 > a.anchor:before, h6 > a.anchor:before { content: "\00A7"; font-size: 0.85em; display: block; padding-top: 0.1em; }
#content h1:hover > a.anchor, #content h1 > a.anchor:hover, h2:hover > a.anchor, h2 > a.anchor:hover, h3:hover > a.anchor, #toctitle:hover > a.anchor, .sidebarblock > .content > .title:hover > a.anchor, h3 > a.anchor:hover, #toctitle > a.anchor:hover, .sidebarblock > .content > .title > a.anchor:hover, h4:hover > a.anchor, h4 > a.anchor:hover, h5:hover > a.anchor, h5 > a.anchor:hover, h6:hover > a.anchor, h6 > a.anchor:hover { visibility: visible; }
#content h1 > a.link, h2 > a.link, h3 > a.link, #toctitle > a.link, .sidebarblock > .content > .title > a.link, h4 > a.link, h5 > a.link, h6 > a.link { color: #00326b; text-decoration: none; }
#content h1 > a.link:hover, h2 > a.link:hover, h3 > a.link:hover, #toctitle > a.link:hover, .sidebarblock > .content > .title > a.link:hover, h4 > a.link:hover, h5 > a.link:hover, h6 > a.link:hover { color: #002652; }

.audioblock, .imageblock, .literalblock, .listingblock, .stemblock, .videoblock { margin-bottom: 1.25em; }

.admonitionblock td.content > .title, .audioblock > .title, .exampleblock > .title, .imageblock > .title, .listingblock > .title, .literalblock > .title, .stemblock > .title, .openblock > .title, .paragraph > .title, .quoteblock > .title, table.tableblock > .title, .verseblock > .title, .videoblock > .title, .dlist > .title, .olist > .title, .ulist > .title, .qlist > .title, .hdlist > .title { text-rendering: optimizeLegibility; text-align: left; }

table.tableblock > caption.title { white-space: nowrap; overflow: visible; max-width: 0; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: #703f1c; }

table.tableblock #preamble > .sectionbody > .paragraph:first-of-type p { font-size: inherit; }

.admonitionblock > table { border-collapse: separate; border: 0; background: none; width: 100%; }
.admonitionblock > table td.icon { text-align: center; width: 80px; }
.admonitionblock > table td.icon img { max-width: none; }
.admonitionblock > table td.icon .title { font-weight: bold; font-family: "Varela Round", sans-serif; text-transform: uppercase; }
.admonitionblock > table td.content { padding-left: 1.125em; padding-right: 1.25em; border-left: 1px solid rgba(145, 135, 84, 0.15); color: #666666; }
.admonitionblock > table td.content > :last-child > :last-child { margin-bottom: 0; }

.exampleblock > .content { border-style: solid; border-width: 1px; border-color: #eddbdb; margin-bottom: 1.25em; padding: 1.25em; background: #fefdfd; -webkit-border-radius: 6px; border-radius: 6px; }
.exampleblock > .content > :first-child { margin-top: 0; }
.exampleblock > .content > :last-child { margin-bottom: 0; }

.sidebarblock { border-style: solid; border-width: 1px; border-color: #d6d6dd; margin-bottom: 1.25em; padding: 1.25em; background: #f2f2f4; -webkit-border-radius: 6px; border-radius: 6px; }
.sidebarblock > :first-child { margin-top: 0; }
.sidebarblock > :last-child { margin-bottom: 0; }
.sidebarblock > .content > .title { color: #002c5e; margin-top: 0; }

.exampleblock > .content > :last-child > :last-child, .exampleblock > .content .olist > ol > li:last-child > :last-child, .exampleblock > .content .ulist > ul > li:last-child > :last-child, .exampleblock > .content .qlist > ol > li:last-child > :last-child, .sidebarblock > .content > :last-child > :last-child, .sidebarblock > .content .olist > ol > li:last-child > :last-child, .sidebarblock > .content .ulist > ul > li:last-child > :last-child, .sidebarblock > .content .qlist > ol > li:last-child > :last-child { margin-bottom: 0; }

.literalblock pre, .listingblock pre:not(.highlight), .listingblock pre[class="highlight"], .listingblock pre[class^="highlight "], .listingblock pre.CodeRay, .listingblock pre.prettyprint { background: rgba(16, 195, 196, 0.05); }
.sidebarblock .literalblock pre, .sidebarblock .listingblock pre:not(.highlight), .sidebarblock .listingblock pre[class="highlight"], .sidebarblock .listingblock pre[class^="highlight "], .sidebarblock .listingblock pre.CodeRay, .sidebarblock .listingblock pre.prettyprint { background: #f2f1f1; }

.literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { border: 1px solid rgba(16, 195, 196, 0.125); -webkit-border-radius: 6px; border-radius: 6px; word-wrap: break-word; padding: 1em; font-size: 0.8125em; }
.literalblock pre.nowrap, .literalblock pre[class].nowrap, .listingblock pre.nowrap, .listingblock pre[class].nowrap { overflow-x: auto; white-space: pre; word-wrap: normal; }
@media only screen and (min-width: 768px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 0.90625em; } }
@media only screen and (min-width: 1280px) { .literalblock pre, .literalblock pre[class], .listingblock pre, .listingblock pre[class] { font-size: 1em; } }

.literalblock.output pre { color: rgba(16, 195, 196, 0.05); background-color: inherit; }

.listingblock pre.highlightjs { padding: 0; }
.listingblock pre.highlightjs > code { padding: 1em; -webkit-border-radius: 6px; border-radius: 6px; }

.listingblock > .content { position: relative; }

.listingblock code[data-lang]:before { display: none; content: attr(data-lang); position: absolute; font-size: 0.75em; top: 0.425rem; right: 0.5rem; line-height: 1; text-transform: uppercase; color: #999; }

.listingblock:hover code[data-lang]:before { display: block; }

.listingblock.terminal pre .command:before { content: attr(data-prompt); padding-right: 0.5em; color: #999; }

.listingblock.terminal pre .command:not([data-prompt]):before { content: "$"; }

table.pyhltable { border-collapse: separate; border: 0; margin-bottom: 0; background: none; }

table.pyhltable td { vertical-align: top; padding-top: 0; padding-bottom: 0; line-height: 1.4; }

table.pyhltable td.code { padding-left: .75em; padding-right: 0; }

pre.pygments .lineno, table.pyhltable td:not(.code) { color: #999; padding-left: 0; padding-right: .5em; border-right: 1px solid rgba(145, 135, 84, 0.15); }

pre.pygments .lineno { display: inline-block; margin-right: .25em; }

table.pyhltable .linenodiv { background: none !important; padding-right: 0 !important; }

.quoteblock { margin: 0 1em 1.25em 1.5em; display: table; }
.quoteblock > .title { margin-left: -1.5em; margin-bottom: 0.75em; }
.quoteblock blockquote, .quoteblock blockquote p { color: #999999; font-size: 1.15rem; line-height: 1.75; word-spacing: 0.1em; letter-spacing: 0; font-style: italic; text-align: justify; }
.quoteblock blockquote { margin: 0; padding: 0; border: 0; }
.quoteblock blockquote:before { content: "\201c"; float: left; font-size: 2.75em; font-weight: bold; line-height: 0.6em; margin-left: -0.6em; color: #002c5e; text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); }
.quoteblock blockquote > .paragraph:last-child p { margin-bottom: 0; }
.quoteblock .attribution { margin-top: 0.5em; margin-right: 0.5ex; text-align: right; }
.quoteblock .quoteblock { margin-left: 0; margin-right: 0; padding: 0.5em 0; border-left: 3px solid #666666; }
.quoteblock .quoteblock blockquote { padding: 0 0 0 0.75em; }
.quoteblock .quoteblock blockquote:before { display: none; }

.verseblock { margin: 0 1em 1.25em 1em; }
.verseblock pre { font-family: "Open Sans", "DejaVu Sans", sans; font-size: 1.15rem; color: #999999; font-weight: 300; text-rendering: optimizeLegibility; }
.verseblock pre strong { font-weight: 400; }
.verseblock .attribution { margin-top: 1.25rem; margin-left: 0.5ex; }

.quoteblock .attribution, .verseblock .attribution { font-size: 0.8125em; line-height: 1.45; font-style: italic; }
.quoteblock .attribution br, .verseblock .attribution br { display: none; }
.quoteblock .attribution cite, .verseblock .attribution cite { display: block; letter-spacing: -0.025em; color: #666666; }

.quoteblock.abstract { margin: 0 0 1.25em 0; display: block; }
.quoteblock.abstract blockquote, .quoteblock.abstract blockquote p { text-align: left; word-spacing: 0; }
.quoteblock.abstract blockquote:before, .quoteblock.abstract blockquote p:first-of-type:before { display: none; }

table.tableblock { max-width: 100%; border-collapse: separate; }
table.tableblock td > .paragraph:last-child p > p:last-child, table.tableblock th > p:last-child, table.tableblock td > p:last-child { margin-bottom: 0; }

table.tableblock, th.tableblock, td.tableblock { border: 0 solid rgba(145, 135, 84, 0.15); }

table.grid-all th.tableblock, table.grid-all td.tableblock { border-width: 0 1px 1px 0; }

table.grid-all tfoot > tr > th.tableblock, table.grid-all tfoot > tr > td.tableblock { border-width: 1px 1px 0 0; }

table.grid-cols th.tableblock, table.grid-cols td.tableblock { border-width: 0 1px 0 0; }

table.grid-all * > tr > .tableblock:last-child, table.grid-cols * > tr > .tableblock:last-child { border-right-width: 0; }

table.grid-rows th.tableblock, table.grid-rows td.tableblock { border-width: 0 0 1px 0; }

table.grid-all tbody > tr:last-child > th.tableblock, table.grid-all tbody > tr:last-child > td.tableblock, table.grid-all thead:last-child > tr > th.tableblock, table.grid-rows tbody > tr:last-child > th.tableblock, table.grid-rows tbody > tr:last-child > td.tableblock, table.grid-rows thead:last-child > tr > th.tableblock { border-bottom-width: 0; }

table.grid-rows tfoot > tr > th.tableblock, table.grid-rows tfoot > tr > td.tableblock { border-width: 1px 0 0 0; }

table.frame-all { border-width: 1px; }

table.frame-sides { border-width: 0 1px; }

table.frame-topbot { border-width: 1px 0; }

th.halign-left, td.halign-left { text-align: left; }

th.halign-right, td.halign-right { text-align: right; }

th.halign-center, td.halign-center { text-align: center; }

th.valign-top, td.valign-top { vertical-align: top; }

th.valign-bottom, td.valign-bottom { vertical-align: bottom; }

th.valign-middle, td.valign-middle { vertical-align: middle; }

table thead th, table tfoot th { font-weight: bold; }

tbody tr th { display: table-cell; line-height: 1.5; background: rgba(119, 84, 22, 0.1); }

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p { color: rgba(0, 0, 0, 0.8); font-weight: bold; }

p.tableblock > code:only-child { background: none; padding: 0; }

p.tableblock { font-size: 1em; }

td > div.verse { white-space: pre; }

ol { margin-left: 1.75em; }

ul li ol { margin-left: 1.5em; }

dl dd { margin-left: 1.125em; }

dl dd:last-child, dl dd:last-child > :last-child { margin-bottom: 0; }

ol > li p, ul > li p, ul dd, ol dd, .olist .olist, .ulist .ulist, .ulist .olist, .olist .ulist { margin-bottom: 0.625em; }

ul.unstyled, ol.unnumbered, ul.checklist, ul.none { list-style-type: none; }

ul.unstyled, ol.unnumbered, ul.checklist { margin-left: 0.625em; }

ul.checklist li > p:first-child > .fa-square-o:first-child, ul.checklist li > p:first-child > .fa-check-square-o:first-child { width: 1em; font-size: 0.85em; }

ul.checklist li > p:first-child > input[type="checkbox"]:first-child { width: 1em; position: relative; top: 1px; }

ul.inline { margin: 0 auto 0.625em auto; margin-left: -1.375em; margin-right: 0; padding: 0; list-style: none; overflow: hidden; }
ul.inline > li { list-style: none; float: left; margin-left: 1.375em; display: block; }
ul.inline > li > * { display: block; }

.unstyled dl dt { font-weight: normal; font-style: normal; }

ol.arabic { list-style-type: decimal; }

ol.decimal { list-style-type: decimal-leading-zero; }

ol.loweralpha { list-style-type: lower-alpha; }

ol.upperalpha { list-style-type: upper-alpha; }

ol.lowerroman { list-style-type: lower-roman; }

ol.upperroman { list-style-type: upper-roman; }

ol.lowergreek { list-style-type: lower-greek; }

.hdlist > table, .colist > table { border: 0; background: none; }
.hdlist > table > tbody > tr, .colist > table > tbody > tr { background: none; }

td.hdlist1, td.hdlist2 { vertical-align: top; padding: 0 0.625em; }

td.hdlist1 { font-weight: bold; padding-bottom: 1.25em; }

.literalblock + .colist, .listingblock + .colist { margin-top: -0.5em; }

.colist > table tr > td:first-of-type { padding: 0 0.75em; line-height: 1; }
.colist > table tr > td:last-of-type { padding: 0.25em 0; }

.thumb, .th { line-height: 0; display: inline-block; border: solid 4px white; -webkit-box-shadow: 0 0 0 1px #dddddd; box-shadow: 0 0 0 1px #dddddd; }

.imageblock.left, .imageblock[style*="float: left"] { margin: 0.25em 0.625em 1.25em 0; }
.imageblock.right, .imageblock[style*="float: right"] { margin: 0.25em 0 1.25em 0.625em; }
.imageblock > .title { margin-bottom: 0; }
.imageblock.thumb, .imageblock.th { border-width: 6px; }
.imageblock.thumb > .title, .imageblock.th > .title { padding: 0 0.125em; }

.image.left, .image.right { margin-top: 0.25em; margin-bottom: 0.25em; display: inline-block; line-height: 0; }
.image.left { margin-right: 0.625em; }
.image.right { margin-left: 0.625em; }

a.image { text-decoration: none; display: inline-block; }
a.image object { pointer-events: none; }

sup.footnote, sup.footnoteref { font-size: 0.875em; position: static; vertical-align: super; }
sup.footnote a, sup.footnoteref a { text-decoration: none; }
sup.footnote a:active, sup.footnoteref a:active { text-decoration: underline; }

#footnotes { padding-top: 0.75em; padding-bottom: 0.75em; margin-bottom: 0.625em; }
#footnotes hr { width: 20%; min-width: 6.25em; margin: -0.25em 0 0.75em 0; border-width: 1px 0 0 0; }
#footnotes .footnote { padding: 0 0.375em 0 0.225em; line-height: 1.3334; font-size: 0.875em; margin-left: 1.2em; text-indent: -1.05em; margin-bottom: 0.2em; }
#footnotes .footnote a:first-of-type { font-weight: bold; text-decoration: none; }
#footnotes .footnote:last-of-type { margin-bottom: 0; }

#content #footnotes { margin-top: -0.625em; margin-bottom: 0; padding: 0.75em 0; }

.gist .file-data > table { border: 0; background: #fff; width: 100%; margin-bottom: 0; }
.gist .file-data > table td.line-data { width: 99%; }

div.unbreakable { page-break-inside: avoid; }

.big { font-size: larger; }

.small { font-size: smaller; }

.underline { text-decoration: underline; }

.overline { text-decoration: overline; }

.line-through { text-decoration: line-through; }

.aqua { color: #00bfbf; }

.aqua-background { background-color: #00fafa; }

.black { color: black; }

.black-background { background-color: black; }

.blue { color: #0000bf; }

.blue-background { background-color: #0000fa; }

.fuchsia { color: #bf00bf; }

.fuchsia-background { background-color: #fa00fa; }

.gray { color: #606060; }

.gray-background { background-color: #7d7d7d; }

.green { color: #006000; }

.green-background { background-color: #007d00; }

.lime { color: #00bf00; }

.lime-background { background-color: #00fa00; }

.maroon { color: #600000; }

.maroon-background { background-color: #7d0000; }

.navy { color: #000060; }

.navy-background { background-color: #00007d; }

.olive { color: #606000; }

.olive-background { background-color: #7d7d00; }

.purple { color: #600060; }

.purple-background { background-color: #7d007d; }

.red { color: #bf0000; }

.red-background { background-color: #fa0000; }

.silver { color: #909090; }

.silver-background { background-color: #bcbcbc; }

.teal { color: #006060; }

.teal-background { background-color: #007d7d; }

.white { color: #bfbfbf; }

.white-background { background-color: #fafafa; }

.yellow { color: #bfbf00; }

.yellow-background { background-color: #fafa00; }

span.icon > .fa { cursor: default; }

.admonitionblock td.icon [class^="fa icon-"] { font-size: 2.5em; text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5); cursor: default; }
.admonitionblock td.icon .icon-note:before { content: "\f05a"; color: #004060; }
.admonitionblock td.icon .icon-tip:before { content: "\f0eb"; text-shadow: 1px 1px 2px rgba(155, 155, 0, 0.8); color: #111; }
.admonitionblock td.icon .icon-warning:before { content: "\f071"; color: #bf6900; }
.admonitionblock td.icon .icon-caution:before { content: "\f06d"; color: #bf3400; }
.admonitionblock td.icon .icon-important:before { content: "\f06a"; color: #bf0000; }

.conum[data-value] { display: inline-block; color: #fff !important; background-color: rgba(0, 0, 0, 0.8); -webkit-border-radius: 100px; border-radius: 100px; text-align: center; font-size: 0.75em; width: 1.67em; height: 1.67em; line-height: 1.67em; font-family: "Open Sans", "DejaVu Sans", sans-serif; font-style: normal; font-weight: bold; }
.conum[data-value] * { color: #fff !important; }
.conum[data-value] + b { display: none; }
.conum[data-value]:after { content: attr(data-value); }
pre .conum[data-value] { position: relative; top: -0.125em; }

b.conum * { color: inherit !important; }

.conum:not([data-value]):empty { display: none; }

#toc.toc2 ul ul { list-style-type: circle; padding-left: 2em; }

.sect1 { padding-bottom: 0 !important; margin-bottom: 2.5em; }

#header h1 { font-weight: bold; position: relative; left: -0.0625em; }

#content h2, #content h3, #content #toctitle, #content .sidebarblock > .content > .title, #content h4, #content h5, #content #toctitle { position: relative; left: -0.0625em; }
#content h2 { font-weight: bold; }

.paragraph.lead > p, #preamble > .sectionbody > .paragraph:first-of-type p { color: black; }

pre.pygments.highlight { background-color: rgba(16, 195, 196, 0.05); }

.pygments .tok-err { border: none !important; color: #800000 !important; }

.pygments .tok-c { color: #999 !important; }

</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="book toc2 toc-right" style="max-width: 150em;">
<div id="header">
<h1>git tutorial</h1>
<div class="details">
<span id="author" class="author">Ping Song</span><br>
<span id="email" class="email"><a href="mailto:pings@juniper.net">pings@juniper.net</a></span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Content</div>
<ul class="sectlevel1">
<li><a href="#_pending_issue">1. pending issue</a></li>
<li><a href="#_basics">2. basics</a></li>
<li><a href="#_git_working_dir_stage_index_master_head">3. git working dir, stage(index), master, head:</a>
<ul class="sectlevel2">
<li><a href="#_chart_basic_term_working_dir_staged_index_repository_master">3.1. chart: basic term (working dir, staged/index, repository/master)</a></li>
</ul>
</li>
<li><a href="#_chart_branch">4. chart: branch</a></li>
<li><a href="#_merge">5. merge</a>
<ul class="sectlevel2">
<li><a href="#_fast_forward">5.1. fast forward</a></li>
<li><a href="#_confliction">5.2. confliction</a></li>
<li><a href="#__no_ff_disable_ff">5.3. --no-ff: disable ff</a></li>
<li><a href="#_3_way_merge">5.4. 3-way merge</a></li>
</ul>
</li>
<li><a href="#_stash">6. stash</a></li>
<li><a href="#_remote">7. remote</a>
<ul class="sectlevel2">
<li><a href="#_local_fs">7.1. local FS</a>
<ul class="sectlevel3">
<li><a href="#__local_config">7.1.1. "local" config:</a></li>
<li><a href="#_add_remote">7.1.2. add remote</a></li>
<li><a href="#__fetch_remote_branches_in">7.1.3. 'fetch' remote branches in</a></li>
<li><a href="#_merge_a_remote_branch_in">7.1.4. merge a remote branch in</a></li>
<li><a href="#__push_to_a_remote_repo">7.1.5. 'push' to a remote repo</a></li>
<li><a href="#_push_a_local_tag">7.1.6. push a local tag</a></li>
</ul>
</li>
<li><a href="#_github">7.2. github</a></li>
</ul>
</li>
<li><a href="#_centralized_workflow">8. centralized workflow</a>
<ul class="sectlevel2">
<li><a href="#_create_the_central_hub_repo">8.1. create the central/hub repo</a></li>
<li><a href="#_de1_push_change1">8.2. DE1: push change1</a></li>
<li><a href="#_de2_push_change2">8.3. DE2: push change2</a></li>
<li><a href="#_de2_push_got_rejected">8.4. DE2: push got rejected</a></li>
<li><a href="#_de2_rebase_and_then_push">8.5. DE2: rebase and then push</a></li>
<li><a href="#_de1_fetch">8.6. DE1: fetch</a></li>
<li><a href="#_de1_check_what_is_new_in_the_remote_branch">8.7. DE1: check what is new in the remote branch:</a></li>
<li><a href="#_de1_ff_merge_remote_branch_into_local">8.8. DE1: (ff) merge remote branch into local:</a></li>
</ul>
</li>
<li><a href="#_distributed_workflow">9. distributed workflow</a></li>
<li><a href="#_patch_workflow">10. patch workflow</a>
<ul class="sectlevel2">
<li><a href="#_de2_commit_some_changes">10.1. DE2 commit some changes</a></li>
<li><a href="#_de2_generate_a_patch_for_the_new_work">10.2. DE2 generate a patch for the new work:</a></li>
<li><a href="#_patch_files">10.3. patch files</a></li>
<li><a href="#_de2_send_patch_files_to_maintainer_de1">10.4. DE2 send patch files to maintainer DE1</a></li>
<li><a href="#_maintainer_de1_apply_the_patch">10.5. maintainer/DE1 apply the patch</a></li>
<li><a href="#_de2_update_master_by_pull_changes_from_central_repo">10.6. DE2 update master: by pull changes from central repo</a></li>
</ul>
</li>
<li><a href="#_tag">11. tag</a></li>
<li><a href="#_rebase">12. rebase</a>
<ul class="sectlevel2">
<li><a href="#_rebase_for_merging_branch">12.1. rebase for merging branch</a></li>
<li><a href="#_rebase_for_merging_commit">12.2. rebase for merging commit</a>
<ul class="sectlevel3">
<li><a href="#__squash">12.2.1. 'squash'</a></li>
<li><a href="#__edit">12.2.2. 'edit'</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_changing_history">13. changing history</a>
<ul class="sectlevel2">
<li><a href="#_1st_changes">13.1. 1st changes:</a></li>
<li><a href="#_2nd_change">13.2. 2nd change:</a></li>
<li><a href="#_define_the_desired_commit_sequence">13.3. define the desired commit sequence</a></li>
<li><a href="#_use_rebase_to_edit_first_commit">13.4. use rebase to edit first commit</a></li>
<li><a href="#_reset_mixed_head_1">13.5. reset --mixed HEAD~1</a></li>
<li><a href="#_produce_the_desired_1st_commit">13.6. produce the desired 1st commit</a></li>
<li><a href="#_producing_the_desired_2nd_commit">13.7. producing the desired 2nd commit</a></li>
<li><a href="#_run_rebase_continue_to_finish_rebase">13.8. run 'rebase --continue' to finish rebase</a></li>
</ul>
</li>
<li><a href="#_patching">14. patching</a></li>
<li><a href="#_command_reference">15. command reference</a>
<ul class="sectlevel2">
<li><a href="#_git_log">15.1. git log</a></li>
<li><a href="#_git_config">15.2. git config</a></li>
<li><a href="#_git_clean">15.3. git clean</a></li>
<li><a href="#_git_checkout">15.4. git checkout</a>
<ul class="sectlevel3">
<li><a href="#_checkout_commit">15.4.1. checkout &lt;COMMIT&gt;</a></li>
<li><a href="#_checkout_commit_file">15.4.2. checkout &lt;COMMIT&gt; &lt;FILE&gt;</a></li>
</ul>
</li>
<li><a href="#_git_reset">15.5. git reset</a>
<ul class="sectlevel3">
<li><a href="#_reset_commit">15.5.1. reset &lt;COMMIT&gt;</a></li>
<li><a href="#_reset_commit_file">15.5.2. reset &lt;COMMIT&gt; &lt;FILE&gt;</a></li>
<li><a href="#__git_reset_head_2_foo_py">15.5.3. 'git reset HEAD~2 foo.py'</a></li>
</ul>
</li>
<li><a href="#_git_revert">15.6. git revert</a></li>
<li><a href="#_bare_repo">15.7. bare repo</a></li>
<li><a href="#_git_branch">15.8. git branch</a></li>
<li><a href="#_git_archive">15.9. git archive</a></li>
<li><a href="#_git_bunble">15.10. git bunble</a></li>
<li><a href="#_git_head_path_notation_sup_sup_n_n">15.11. git HEAD path notation: '<sup>[</sup>*]N' , '~N'</a></li>
<li><a href="#_git_diff">15.12. git diff</a>
<ul class="sectlevel3">
<li><a href="#__git_diff">15.12.1. 'git diff'</a></li>
<li><a href="#__git_diff_cache">15.12.2. 'git diff -cache'</a></li>
<li><a href="#__git_diff_head">15.12.3. 'git diff HEAD'</a></li>
<li><a href="#__git_diff_head_head_1">15.12.4. 'git diff HEAD..HEAD~1'</a></li>
<li><a href="#_git_show">15.12.5. git show</a></li>
</ul>
</li>
<li><a href="#_git_rebase">15.13. git rebase</a></li>
</ul>
</li>
<li><a href="#_misc">16. misc</a>
<ul class="sectlevel2">
<li><a href="#_gitignore">16.1. gitignore</a></li>
<li><a href="#_alias">16.2. alias</a></li>
<li><a href="#_gui_clients">16.3. gui clients</a>
<ul class="sectlevel3">
<li><a href="#_github_desktop">16.3.1. github desktop</a></li>
<li><a href="#_smartgit">16.3.2. smartgit</a></li>
<li><a href="#_tower">16.3.3. tower</a></li>
</ul>
</li>
<li><a href="#__detached_head">16.4. 'detached HEAD'</a>
<ul class="sectlevel3">
<li><a href="#_finally_commit_and_switch_back">16.4.1. finally commit and switch back:</a></li>
<li><a href="#_solution">16.4.2. solution</a></li>
</ul>
</li>
<li><a href="#_git_hooks">16.5. git hooks</a></li>
</ul>
</li>
<li><a href="#_import_rules">17. import rules</a>
<ul class="sectlevel2">
<li><a href="#_never_rebase_commits_that_have_been_pushed_to_a_shared_repo">17.1. never rebase commits that have been pushed to a shared repo</a></li>
</ul>
</li>
<li><a href="#_common_issues">18. common issues</a></li>
<li><a href="#_full_chart">19. full chart</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_pending_issue"><a class="anchor" href="#_pending_issue"></a>1. pending issue</h2>
<div class="sectionbody">
<div class="paragraph">
<div class="title">'git revert CID' often does not work</div>
<p>say I wan to discard all new commits and move back to a commit "65dc"</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/pinggit$ git lg -20
* c87df22 - (HEAD -&gt; master) unnamed (4 days ago)&lt;ping&gt;
* 3bc7168 - (blog/master) test (5 months ago)&lt;ping&gt;
* f4ec0d2 - test (5 months ago)&lt;ping&gt;
* b19cccc - test (5 months ago)&lt;ping&gt;
* 3adcadf - test (5 months ago)&lt;ping&gt;
* 45f0df9 - test (5 months ago)&lt;ping&gt;
* 680c77b - unnamed (5 months ago)&lt;ping&gt;
* ba4d8e0 - vmx (9 months ago)&lt;ping&gt;
* 996bc75 - unnamed (10 months ago)&lt;ping&gt;
* a7319bf - unnamed (10 months ago)&lt;ping&gt;
* aa7c5c5 - remove a wrong file (10 months ago)&lt;ping&gt;
*   96a9dbb - Merge branch 'master' of https://github.com/pinggit/blog (10 months ago)&lt;ping&gt;
|\
| * 5f802aa - init (5 years ago)&lt;Linghua Zhang&gt;
* 65dc5db - vmx-tutorial (10 months ago)&lt;ping&gt;      #&lt;------
* 76286e7 - unnamed (1 year, 8 months ago)&lt;ping&gt;
* a7e6c51 - issuechecker (1 year, 8 months ago)&lt;ping&gt;
* 1a8fe6f - talk about time with xixi (1 year, 9 months ago)&lt;ping&gt;
* f89b603 - talk about time with xixi (1 year, 9 months ago)&lt;ping&gt;
* 4dfa5c0 - zizhitongjian-liuxiu-dongxuan (1 year, 10 months ago)&lt;ping&gt;
* 217ef76 - unnamed (2 years, 1 month ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>natually I use "revert":</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/pinggit$ git revert 65dc
error: could not revert 65dc5db... vmx-tutorial
hint: after resolving the conflicts, mark the corrected paths
hint: with 'git add &lt;paths&gt;' or 'git rm &lt;paths&gt;'
hint: and commit the result with 'git commit'
ping@ubuntu1404:~/pinggit$ git st
On branch master
Your branch is ahead of 'blog/master' by 1 commit.
  (use "git push" to publish your local commits)
You are currently reverting commit 65dc5db.
  (fix conflicts and run "git revert --continue")
  (use "git revert --abort" to cancel the revert operation)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>deleted:    docs/tcl_expect_tips.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Unmerged paths:
  (use "git reset HEAD &lt;file&gt;..." to unstage)
  (use "git add/rm &lt;file&gt;..." as appropriate to mark resolution)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>deleted by them: _posts/2015-09-17-tcl-expect-tips.markdown
deleted by them: _posts/2015-11-23-vmx-tutorial.markdown
deleted by them: docs/vmx-tutorial.html
deleted by them: docs/vmx-tutorial.pdf</pre>
</div>
</div>
<div class="paragraph">
<p>it doesn&#8217;t look work:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/pinggit$ git lg -20
* c87df22 - (HEAD -&gt; master) unnamed (4 days ago)&lt;ping&gt;
* 3bc7168 - (blog/master) test (5 months ago)&lt;ping&gt;
* f4ec0d2 - test (5 months ago)&lt;ping&gt;
* b19cccc - test (5 months ago)&lt;ping&gt;
* 3adcadf - test (5 months ago)&lt;ping&gt;
* 45f0df9 - test (5 months ago)&lt;ping&gt;
* 680c77b - unnamed (5 months ago)&lt;ping&gt;
* ba4d8e0 - vmx (9 months ago)&lt;ping&gt;
* 996bc75 - unnamed (10 months ago)&lt;ping&gt;
* a7319bf - unnamed (10 months ago)&lt;ping&gt;
* aa7c5c5 - remove a wrong file (10 months ago)&lt;ping&gt;
*   96a9dbb - Merge branch 'master' of https://github.com/pinggit/blog (10 months ago)&lt;ping&gt;
|\
| * 5f802aa - init (5 years ago)&lt;Linghua Zhang&gt;
* 65dc5db - vmx-tutorial (10 months ago)&lt;ping&gt;
* 76286e7 - unnamed (1 year, 8 months ago)&lt;ping&gt;
......</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/pinggit$ cd _posts/
ping@ubuntu1404:~/pinggit/_posts$ ls -l | grep expect-tips
-rwxr-x--- 1 ping ping     215 Jan 21 21:29 2015-09-17-tcl-expect-tips.markdown</pre>
</div>
</div>
<div class="paragraph">
<p>commit won&#8217;t work:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/pinggit/_posts$ git add -A .
ping@ubuntu1404:~/pinggit/_posts$ git cm -m "fix it"
U       docs/vmx-tutorial.html
U       docs/vmx-tutorial.pdf
error: Committing is not possible because you have unmerged files.
hint: Fix them up in the work tree, and then use 'git add/rm &lt;file&gt;'
hint: as appropriate to mark resolution and make a commit.
fatal: Exiting because of an unresolved conflict.</pre>
</div>
</div>
<div class="paragraph">
<p>found no solution&#8230;&#8203;so just use "hard reset" to clear it.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/pinggit$ git reset --hard 76286e7
HEAD is now at 76286e7 unnamed</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/pinggit$ git st
On branch master
nothing to commit, working tree clean</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/pinggit$ git reflog -10
76286e7 HEAD@{0}: reset: moving to 76286e7  #&lt;------
c87df22 HEAD@{1}: checkout: moving from test-fix to master
76286e7 HEAD@{2}: checkout: moving from test to test-fix
......</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/pinggit$ git lg -10
* 76286e7 - (HEAD -&gt; master) unnamed (1 year, 8 months ago)&lt;ping&gt;
* a7e6c51 - issuechecker (1 year, 8 months ago)&lt;ping&gt;
......</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/pinggit$ git remote -v
blog    https://github.com/pinggit/pinggit.github.com (fetch)
blog    https://github.com/pinggit/pinggit.github.com (push)</pre>
</div>
</div>
<div class="paragraph">
<p>and "force push" to github</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/pinggit$ git push blog master
Username for 'https://github.com': pinggit
Password for 'https://pinggit@github.com':
To https://github.com/pinggit/pinggit.github.com
 ! [rejected]        master -&gt; master (non-fast-forward)
error: failed to push some refs to 'https://github.com/pinggit/pinggit.github.com'
hint: Updates were rejected because the tip of your current branch is behind
hint: its remote counterpart. Integrate the remote changes (e.g.
hint: 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/pinggit$ git push -f blog master
Total 0 (delta 0), reused 0 (delta 0)
To https://github.com/pinggit/pinggit.github.com
 + c87df22...76286e7 master -&gt; master (forced update)</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_basics"><a class="anchor" href="#_basics"></a>2. basics</h2>
<div class="sectionbody">
<div class="paragraph">
<p>go back to last version</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git reset --hard HEAD^</pre>
</div>
</div>
<div class="paragraph">
<p>now 'git log' won&#8217;t display the "previous current" version, use:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git reflog</pre>
</div>
</div>
<div class="paragraph">
<p>check diff between work dir and latest version in repository</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git diff HEAD -- readme.txt</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
git track changes, not file!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>check all old actions and commitIDs:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/temp/learngit$ git reflog
018259a HEAD@{0}: reset: moving to 018259a
f045d1e HEAD@{1}: reset: moving to HEAD^
018259a HEAD@{2}: commit: append GPL
f045d1e HEAD@{3}: commit: add distributed
d452688 HEAD@{4}: commit (initial): wrote a readme file</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git_working_dir_stage_index_master_head"><a class="anchor" href="#_git_working_dir_stage_index_master_head"></a>3. git working dir, stage(index), master, head:</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>![image](https://cloud.githubusercontent.com/assets/2038044/22007720/14061cee-dc43-11e6-948e-e248e190573a.png)</pre>
</div>
</div>
<div class="dlist">
<div class="title">HEAD</div>
<dl>
<dt class="hdlist1">HEAD</dt>
<dd>
<p>point to latest version of current branch (master)</p>
</dd>
<dt class="hdlist1">HEAD^</dt>
<dd>
<p>previous version of last branch</p>
</dd>
<dt class="hdlist1">HEAD^^ </dt>
<dt class="hdlist1">HEAD~100 </dt>
<dd>
<p>.staging/snapshot/index</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>prepare for the commit</p>
</div>
<div class="sect2">
<h3 id="_chart_basic_term_working_dir_staged_index_repository_master"><a class="anchor" href="#_chart_basic_term_working_dir_staged_index_repository_master"></a>3.1. chart: basic term (working dir, staged/index, repository/master)</h3>
<div class="literalblock">
<div class="content">
<pre>working dir           staged/indexed area              repository
                          (snapshot)                committed snapshot</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>change    --------&gt;
          add
change    --------&gt;
          add
                                  ---------&gt;  v0
                                  commit
change    --------&gt;
          add
                                  ---------&gt;  v1 (HEAD^)
                                  commit          ^
change    --------&gt;                               |
          add                                     | reset --hard CMID
                                                  |
                                  ---------&gt;  v2 (HEAD)
                                  commit</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>   change and discard it
&lt;--------(-------------------------------------)
     checkout -- file.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>change    --------&gt;
          add
          &lt;-------
          unstage:
          git reset HEAD file.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>change
rm file.txt
          -------&gt;
          git rm
                                  ---------&gt;  vx (HEAD)
                                  commit (the rm)</pre>
</div>
</div>
<div class="paragraph">
<p>discard current change in working dir</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/temp/learngit$ git checkout -- readme.txt</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_chart_branch"><a class="anchor" href="#_chart_branch"></a>4. chart: branch</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>HEAD
|
v
master
|
v
a</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>            HEAD
            |
            v
            master
            |
            v
a           b</pre>
</div>
</div>
<div class="literalblock">
<div class="title">create a branch</div>
<div class="content">
<pre>git checkout -b dev
Switched to a new branch 'dev'</pre>
</div>
</div>
<div class="paragraph">
<p>equals to:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git branch dev      #&lt;------create a new branch
git checkout dev    #&lt;------switch to a branch
Switched to branch 'dev'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>            master
            |
            |
            v
a           b
            ^
            |
            |
            dev
            ^
            |
            HEAD</pre>
</div>
</div>
<div class="literalblock">
<div class="title">commit new change</div>
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ vim readme.txt
ping@ubuntu1404:~/learngit$ git add readme.txt
ping@ubuntu1404:~/learngit$ git commit -m "branch test"
[dev c63c858] branch test
 1 file changed, 1 insertion(+)
ping@ubuntu1404:~/learngit$
ping@ubuntu1404:~/learngit$
ping@ubuntu1404:~/learngit$ git branch
* dev
  master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>            master
            |
            |
            v
a --------&gt; b ------------&gt; c      commit3
                            ^
                            |
                            |
                            dev
                            ^
                            |
                            HEAD</pre>
</div>
</div>
<div class="literalblock">
<div class="title">switch back to master</div>
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git checkout master
Switched to branch 'master'
Your branch is up-to-date with 'origin/master'.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>            HEAD
            |
            |
            master
            |
            |
            v
a --------&gt; b ------------&gt; c      commit3
                            ^
                            |
                            |
                            dev</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_merge"><a class="anchor" href="#_merge"></a>5. merge</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_fast_forward"><a class="anchor" href="#_fast_forward"></a>5.1. fast forward</h3>
<div class="literalblock">
<div class="title">merge dev into master</div>
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git merge dev
Updating 0cb81a3..c63c858
Fast-forward                #&lt;------
 readme.txt | 1 +
 1 file changed, 1 insertion(+)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>                            HEAD
                            |
                            |
                            master
                            |
                            |
                            v
a --------&gt; b ------------&gt; c      commit3
                            ^
                            |
                            |
                            dev</pre>
</div>
</div>
<div class="literalblock">
<div class="title">delete dev branch</div>
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git branch -d dev
Deleted branch dev (was c63c858).
ping@ubuntu1404:~/learngit$ git branch
* master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>                            HEAD
                            |
                            |
                            master
                            |
                            |
                            v
a --------&gt; b ------------&gt; c      commit3</pre>
</div>
</div>
<div class="paragraph">
<p>TIPS: to force deleting a branch (which has not been merged into other branches
ever), use -D</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git br -D branch1</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_confliction"><a class="anchor" href="#_confliction"></a>5.2. confliction</h3>
<div class="literalblock">
<div class="title">create and switch to a new branch</div>
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git co -b feature1
Switched to a new branch 'feature1'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git branch
* feature1
  master</pre>
</div>
</div>
<div class="literalblock">
<div class="title">make and commit the change</div>
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ vim readme.txt
ping@ubuntu1404:~/learngit$ git commit -am "AND simple"
[feature1 06025b4] AND simple
 1 file changed, 1 insertion(+)</pre>
</div>
</div>
<div class="paragraph">
<div class="title">return back to master</div>
<p>now git remind, current local master, is 1 commit ahead of remote(named
'origin') master:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git co master
Switched to branch 'master'
Your branch is ahead of 'origin/master' by 1 commit.        #&lt;------
  (use "git push" to publish your local commits)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git branch
  feature1
* master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>                                             HEAD
                                             |
                                             |
                                             master
                                             |
                                             |
                                             v
                                ----------&gt;  d1       commit4
                               /
                              /
a --------&gt; b ------------&gt; c
                              \
                               \
                                ----------&gt;  d2       commit5
                                             |
                                             |
                                             feature1</pre>
</div>
</div>
<div class="paragraph">
<p>now merge generate "confliction"</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git merge feature1
Auto-merging readme.txt
CONFLICT (content): Merge conflict in readme.txt    #&lt;------
Automatic merge failed; fix conflicts and then commit the result.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git status
On branch master
Your branch is ahead of 'origin/master' by 2 commits.
  (use "git push" to publish your local commits)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>You have unmerged paths.
  (fix conflicts and run "git commit")</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Unmerged paths:
  (use "git add &lt;file&gt;..." to mark resolution)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>both modified:      readme.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>no changes added to commit (use "git add" and/or "git commit -a")</pre>
</div>
</div>
<div class="paragraph">
<p>the file looks:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ cat readme.txt
Git is a distributed version control system.
Git is free software distributed under the GPL.
Git has a mutable index called stage.
Git tracks changes of files.
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
Creating a new branch is quick &amp; simple.
=======
Creating a new branch is quick AND simple.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; feature1</pre>
</div>
</div>
<div class="paragraph">
<p>manually resolve the confliction in file:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Creating a new branch is quick and simple.</pre>
</div>
</div>
<div class="paragraph">
<p>now commit:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git commit -am "conflict fixed"
[master 89fb295] conflict fixed</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>                                                            HEAD
                                                            |
                                                            |
                                                            master
                                ----------&gt;  d1 ----------  |
                               /                          \ |
                              /                            \v
a --------&gt; b ------------&gt; c               d               e
                              \                            /
                               \                          /
                                ----------&gt;  d2 ----------
                                             |
                                             |
                                             feature1</pre>
</div>
</div>
<div class="paragraph">
<p>illustrated by git log:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git log --pretty=oneline --graph --abbrev-commit
*   89fb295 conflict fixed
|\
| * dae9a4b AND simple      #&lt;------feature1
* | 71a9574 &amp; simple        #&lt;------master
|/
* c63c858 branch test
* 0cb81a3 remove test.txt
* 1f9259c add test.txt
* 3320c2b extra comit than book
* 9321a6d git tracks 2nd changes
* b85642d git tracks changes
* e516429 understand how stage works
* 018259a append GPL
* f045d1e add distributed
* d452688 wrote a readme file</pre>
</div>
</div>
<div class="paragraph">
<p>or:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git log --graph --abbrev-commit
*   commit 89fb295
|\  Merge: 71a9574 dae9a4b
| | Author: ping &lt;songpingemail@gmail.com&gt;
| | Date:   Wed Jan 18 00:19:06 2017 -0500
| |
| |     conflict fixed
| |
| * commit dae9a4b
| | Author: ping &lt;songpingemail@gmail.com&gt;
| | Date:   Wed Jan 18 00:10:36 2017 -0500
| |
| |     AND simple
| |
* | commit 71a9574
|/  Author: ping &lt;songpingemail@gmail.com&gt;
|   Date:   Wed Jan 18 00:09:57 2017 -0500
|
|       &amp; simple
|
* commit c63c858
| Author: ping &lt;songpingemail@gmail.com&gt;
| Date:   Tue Jan 17 22:12:50 2017 -0500
|
|     branch test</pre>
</div>
</div>
<div class="paragraph">
<p>now delete the feature1 branch</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git branch -d feature1
Deleted branch feature1 (was dae9a4b).
ping@ubuntu1404:~/learngit$ git branch
* master</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="__no_ff_disable_ff"><a class="anchor" href="#__no_ff_disable_ff"></a>5.3. --no-ff: disable ff</h3>
<div class="paragraph">
<p>this will generate a new commit when merge. better history record.</p>
</div>
<div class="paragraph">
<p>merge with no fast forward:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git co -b dev
Switched to a new branch 'dev'
ping@ubuntu1404:~/learngit$ vim readme.txt
ping@ubuntu1404:~/learngit$ git commit -am "add merge"
[dev 8eb7f3f] add merge
 1 file changed, 1 insertion(+)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git co master
Switched to branch 'master'
Your branch is ahead of 'origin/master' by 5 commits.
  (use "git push" to publish your local commits)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git merge --no-ff -m "merge with no-ff" dev
Merge made by the 'recursive' strategy.
 readme.txt | 1 +
 1 file changed, 1 insertion(+)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git log --graph --abbrev-commit --pretty=oneline
*   4e90dfc merge with no-ff        #&lt;------git generated a new commit
|\
| * 8eb7f3f add merge
|/
*   89fb295 conflict fixed</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git log --graph --abbrev-commit
*   commit 4e90dfc
|\  Merge: 89fb295 8eb7f3f
| | Author: ping &lt;songpingemail@gmail.com&gt;
| | Date:   Wed Jan 18 00:38:24 2017 -0500
| |
| |     merge with no-ff
| |
| * commit 8eb7f3f
|/  Author: ping &lt;songpingemail@gmail.com&gt;
|   Date:   Wed Jan 18 00:37:45 2017 -0500
|
|       add merge
|</pre>
</div>
</div>
<div class="literalblock">
<div class="title">ff merge works like this:</div>
<div class="content">
<pre>            HEAD
            |
            |
            master
            |
            |
            v
a --------&gt; b ------------&gt; c      commit3
                            ^
                            |
                            |
                            dev</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>||
||
||
vv</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>                            HEAD
                            |
                            |
                            master
                            |
                            |
                            v
a --------&gt; b ------------&gt; c      commit3
                            ^ (move master/HEAD to current commit of dev)
                            |
                            |
                            dev</pre>
</div>
</div>
<div class="literalblock">
<div class="title">--no-ff merge:</div>
<div class="content">
<pre>            HEAD
            |
            |
            master
            |
            |
            v
a --------&gt; b ------------&gt; c      commit3
                            ^
                            |
                            |
                            dev</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>||
||
||
vv</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>                                            HEAD
                                            |
                                            |
                                            master
                                            |
                                            |
                                            v
a --------&gt; b ------------&gt; c ------------&gt; d       commit4
                            ^           (generated a new commit)
                            |
                            |
                            dev</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
don&#8217;t work on master, work on a dev branch; branch off from dev and merge
back to dev when work done,
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_3_way_merge"><a class="anchor" href="#_3_way_merge"></a>5.4. 3-way merge</h3>
<div class="paragraph">
<p>also called a "3-way merge":</p>
</div>
<div class="paragraph">
<p>A 3-way merge occurs when you try to merge two branches whose history has
diverged. It creates an extra merge commit to function as a link between the
two branches. As a result, it has two parent commits.</p>
</div>
<div class="paragraph">
<p>before merge:</p>
</div>
<div class="paragraph">
<p>master branch commit line:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg
* 6932529 - (HEAD -&gt; master) Revert "delete css" (6 minutes ago)&lt;ping&gt;
* 84042e4 - Revert "link html pages to stylesheet" (6 minutes ago)&lt;ping&gt;
* a3c8ea6 - delete css (7 minutes ago)&lt;ping&gt;
* 12ecdfe - link html pages to stylesheet (13 minutes ago)&lt;ping&gt;
* 0d57262 - Add CSS stylesheet (16 minutes ago)&lt;ping&gt;
* 44f3a80 - Revert "Add navigation links" (51 minutes ago)&lt;ping&gt;    #&lt;---
* bfae2e8 - Revert "Add a crazzzy experiment" (4 years, 1 month ago)&lt;Ryan&gt;
* e2e188a - Add a crazzzy experiment (4 years, 1 month ago)&lt;Ryan&gt;
* ebf439f - (tag: v1.0) Add navigation links (4 years, 1 month ago)&lt;Ryan&gt;
* 578959e - Create blue and orange pages (4 years, 1 month ago)&lt;Ryan&gt;
* 67af295 - Create index page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git br
  crazy
* master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git co crazy
Switched to branch 'crazy'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git br
* crazy
  master</pre>
</div>
</div>
<div class="paragraph">
<p>crazy branch commit line:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git log --oneline --graph
* b337c0e add a rainbow to crazy.html       #&lt;------
* bfae2e8 Revert "Add a crazzzy experiment"
* e2e188a Add a crazzzy experiment
* ebf439f Add navigation links
* 578959e Create blue and orange pages
* 67af295 Create index page</pre>
</div>
</div>
<div class="paragraph">
<p>merge: crazy : &#8592;- master</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git merge master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Merge made by the 'recursive' strategy.
 blue.html   |  3 ---
 index.html  | 11 -----------
 orange.html |  3 ---
 style.css   | 12 ++++++++++++
 4 files changed, 12 insertions(+), 17 deletions(-)
 create mode 100644 style.css</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ ls
blue.html  index.html  orange.html  rainbow.html  style.css</pre>
</div>
</div>
<div class="paragraph">
<p>after merge: 2 commit lines (from both branches) merged together via a new
commit</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg
*   7bdf73f - (HEAD -&gt; crazy) Merge branch 'master' into crazy (88 seconds ago)&lt;ping&gt; <i class="conum" data-value="1"></i><b>(1)</b>
|\
| * 6932529 - (master) Revert "delete css" (9 minutes ago)&lt;ping&gt;
| * 84042e4 - Revert "link html pages to stylesheet" (10 minutes ago)&lt;ping&gt;
| * a3c8ea6 - delete css (11 minutes ago)&lt;ping&gt;
| * 12ecdfe - link html pages to stylesheet (17 minutes ago)&lt;ping&gt;
| * 0d57262 - Add CSS stylesheet (19 minutes ago)&lt;ping&gt;
| * 44f3a80 - Revert "Add navigation links" (55 minutes ago)&lt;ping&gt;
* | 7630fb1 - rename crazy.html to rainbow.html (23 minutes ago)&lt;ping&gt;
* | b337c0e - add a rainbow to crazy.html (32 minutes ago)&lt;ping&gt;
|/
* bfae2e8 - Revert "Add a crazzzy experiment" (4 years, 1 month ago)&lt;Ryan&gt;
* e2e188a - Add a crazzzy experiment (4 years, 1 month ago)&lt;Ryan&gt;
* ebf439f - (tag: v1.0) Add navigation links (4 years, 1 month ago)&lt;Ryan&gt;
* 578959e - Create blue and orange pages (4 years, 1 month ago)&lt;Ryan&gt;
* 67af295 - Create index page (4 years, 1 month ago)&lt;Ryan&gt;
ping@ubuntu1404:~/my-git-repo$</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>3-way merge: a new commit generated, also, indicated by (HEAD &#8594; crazy)
updated 'HEAD' points to crazy, while head of master branch remains unchanged:
1 commit behind new HEAD.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>illustrated as below (not very accurate in terms of commit numbers)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22128115/27556d78-de6d-11e6-9ad3-ee88e8713db2.png" alt="27556d78 de6d 11e6 9ad3 ee88e8713db2">
</div>
</div>
<div class="paragraph">
<p>"3-way":</p>
</div>
<div class="literalblock">
<div class="content">
<pre>(crazy old head)
7630fb1 -------\
                \   (crazy new head: 'HEAD')
                 X  7bdf73f(new commit)
                /
6932529 -------/
(master head remains)</pre>
</div>
</div>
<div class="paragraph">
<p>now creating a new branch "crazy-alt" off "crazy":</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git co -b crazy-alt
Switched to branch 'crazy-alt'

ping@ubuntu1404:~/my-git-repo$ git br
  crazy
* crazy-alt
  master

ping@ubuntu1404:~/my-git-repo$ git lg
* 078238e - (HEAD -&gt; crazy-alt, crazy) link index.html to rainbow.html (5 hours ago)&lt;ping&gt; <i class="conum" data-value="1"></i><b>(1)</b>
* 1e6598d - add css stylesheet to rainbow.html (5 hours ago)&lt;ping&gt;
*   7bdf73f - Merge branch 'master' into crazy (5 hours ago)&lt;ping&gt;
|\
| * 6932529 - (master) Revert "delete css" (6 hours ago)&lt;ping&gt;
| * 84042e4 - Revert "link html pages to stylesheet" (6 hours ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>(HEAD &#8594; crazy-alt, crazy) indicate, now HEAD points to both old branch
crazy and new branch crazy-alt - they are with the same commit.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_stash"><a class="anchor" href="#_stash"></a>6. stash</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>can be applied to any branch, not just the one from which it was created.</p>
</li>
<li>
<p>usage scenario:</p>
<div class="ulist">
<ul>
<li>
<p>before committing changes in branch 1 (topic branch), need to work on other
branch 2 (master), then come back branch 1 and continue</p>
</li>
<li>
<p>realized changed made to wrong branch. just to stash changes, switch branch
and apply stash</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>while working on dev, in the middle of some changes&#8230;&#8203;</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git co dev
Switched to branch 'dev'
ping@ubuntu1404:~/learngit$ ls
LICENSE  readme.txt</pre>
</div>
</div>
<div class="paragraph">
<p>change1: created a new file:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ touch hello.py
ping@ubuntu1404:~/learngit$
ping@ubuntu1404:~/learngit$ git status
On branch dev
Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>hello.py</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>nothing added to commit but untracked files present (use "git add" to track)</pre>
</div>
</div>
<div class="paragraph">
<p>change2: changed an existing file:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ vim readme.txt
ping@ubuntu1404:~/learngit$ git status
On branch dev
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>modified:   readme.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>hello.py</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>no changes added to commit (use "git add" and/or "git commit -a")</pre>
</div>
</div>
<div class="paragraph">
<p>now need to fix some issue in master&#8201;&#8212;&#8201;before current work in dev can be
commited: use stash to save the work:</p>
</div>
<div class="paragraph">
<p>stash the existing file change:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git stash
Saved working directory and index state WIP on dev: 8eb7f3f add merge
HEAD is now at 8eb7f3f add merge</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git status
On branch dev
Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>hello.py</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>nothing added to commit but untracked files present (use "git add" to track)</pre>
</div>
</div>
<div class="paragraph">
<p>stage new file and stash the work in new file:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git add hello.py
ping@ubuntu1404:~/learngit$ git status
On branch dev
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>new file:   hello.py</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git stash
Saved working directory and index state WIP on dev: 8eb7f3f add merge
HEAD is now at 8eb7f3f add merge</pre>
</div>
</div>
<div class="paragraph">
<p>now all "pending" works are saved/stashed (with 2 stashes):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git stash list
stash@{0}: WIP on dev: 8eb7f3f add merge
stash@{1}: WIP on dev: 8eb7f3f add merge</pre>
</div>
</div>
<div class="paragraph">
<p>now working dir is clean,</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git status
On branch dev
nothing to commit, working directory clean</pre>
</div>
</div>
<div class="paragraph">
<p>go to master to fix the issue, by creating a temp branch</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git branch
* dev
  master
ping@ubuntu1404:~/learngit$ git co master
Switched to branch 'master'
Your branch is ahead of 'origin/master' by 7 commits.
  (use "git push" to publish your local commits)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git co -b issue-101
Switched to a new branch 'issue-101'</pre>
</div>
</div>
<div class="paragraph">
<p>fix issue and commit:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ vim readme.txt
ping@ubuntu1404:~/learngit$ git commit -am "fix bug 101"
[issue-101 e506c8a] fix bug 101
 1 file changed, 1 insertion(+), 1 deletion(-)</pre>
</div>
</div>
<div class="paragraph">
<p>go to master to merge the fix:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git co master
Switched to branch 'master'
Your branch is ahead of 'origin/master' by 7 commits.
  (use "git push" to publish your local commits)
ping@ubuntu1404:~/learngit$
ping@ubuntu1404:~/learngit$ git merge --no-ff -m "merged bug fix 101" issue-101
Merge made by the 'recursive' strategy.
 readme.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)</pre>
</div>
</div>
<div class="paragraph">
<p>now, return back to continue the "pending" old work:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git co dev
Switched to branch 'dev'
ping@ubuntu1404:~/learngit$
ping@ubuntu1404:~/learngit$ git status
On branch dev
nothing to commit, working directory clean</pre>
</div>
</div>
<div class="paragraph">
<p>before continue, need to recover back to exactly where we left off:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git stash list
stash@{0}: WIP on dev: 8eb7f3f add merge
stash@{1}: WIP on dev: 8eb7f3f add merge</pre>
</div>
</div>
<div class="paragraph">
<p>apply 2nd stash, and drop the stash (since it&#8217;s been applied and no use anymore)</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git stash pop
On branch dev
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>new file:   hello.py</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Dropped refs/stash@{0} (06ad349f04842443638f83e7df2237cce8628763)</pre>
</div>
</div>
<div class="paragraph">
<p>apply the 1st stash and drop it as well:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git stash list
stash@{0}: WIP on dev: 8eb7f3f add merge</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git stash pop
On branch dev
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>new file:   hello.py</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>modified:   readme.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Dropped refs/stash@{0} (7a4b35e09c098a6a59a9e98e4ef9ce56833018dd)</pre>
</div>
</div>
<div class="paragraph">
<p>now back to exactly where we left off, and continue the previous work in dev:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git stash list
ping@ubuntu1404:~</pre>
</div>
</div>
<div class="paragraph">
<p>now add the 2 changes at one go with 'git add -A .' and commit:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git add -A .
ping@ubuntu1404:~/learngit$ git commit -m "add hello.py and change readme.txt"
[dev 0df2b58] add hello.py and change readme.txt
 2 files changed, 1 insertion(+)
 create mode 100755 hello.py</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>a new (untracked) file</p>
</li>
<li>
<p>change to existing (tracked) file</p>
</li>
</ol>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>to apply a specific stash:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git stash apply stash@{0}</pre>
</div>
</div>
<div class="paragraph">
<p>to just apply but not to drop the stash:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git stash apply</pre>
</div>
</div>
<div class="paragraph">
<p>to drop(delete) a stash:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git stash drop</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_remote"><a class="anchor" href="#_remote"></a>7. remote</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>a bookmark for a full path to another repo</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_local_fs"><a class="anchor" href="#_local_fs"></a>7.1. local FS</h3>
<div class="paragraph">
<p>create a clone</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git$ git clone my-git-repo marys-repo
Cloning into 'marys-repo'...
done.
ping@ubuntu1404:~/Dropbox/git$ ls -lct
total 56
drwxrwxr-x 4 ping ping  4096 Jan 21 00:00 marys-repo        #&lt;------
drwxrwxr-x 4 ping ping  4096 Jan 20 23:59 my-git-repo</pre>
</div>
</div>
<div class="sect3">
<h4 id="__local_config"><a class="anchor" href="#__local_config"></a>7.1.1. "local" config:</h4>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/marys-repo$ git config user.name "Mary"
ping@ubuntu1404:~/Dropbox/git/marys-repo$ git config user.email mary.example@rypress.com</pre>
</div>
</div>
<div class="paragraph">
<p>this config is only valid for the new clone repo, not for global, or any other
repo</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/marys-repo$ cat .git/config
[core]
        repositoryformatversion = 0
        filemode = true
        bare = false
        logallrefupdates = true
[remote "origin"]
        url = /home/ping/Dropbox/git/my-git-repo
        fetch = +refs/heads/*:refs/remotes/origin/*
[branch "master"]
        remote = origin
        merge = refs/heads/master
[user]
        name = Mary
        email = mary.example@rypress.com</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/marys-repo$ cat ../my-git-repo/.git/config
[core]
        repositoryformatversion = 0
        filemode = true
        bare = false
        logallrefupdates = true
        ignorecase = true
ping@ubuntu1404:~/Dropbox/git/marys-repo$</pre>
</div>
</div>
<div class="paragraph">
<p>now check out a branch, commit some changes and merge back to master:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/marys-repo$ git co -b bio-page
Switched to a new branch 'bio-page'
ping@ubuntu1404:~/Dropbox/git/marys-repo$ vim about/mary.html
ping@ubuntu1404:~/Dropbox/git/marys-repo$ git cm -am "add bio page for mary"
[bio-page 87c08e6] add bio page for mary
 1 file changed, 18 insertions(+), 1 deletion(-)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/marys-repo$ git co master
Switched to branch 'master'
Your branch is up-to-date with 'origin/master'.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/marys-repo$ git merge bio-page
Updating 81a6beb..87c08e6
Fast-forward
 about/mary.html | 19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)</pre>
</div>
</div>
<div class="paragraph">
<p>every commit will now be tagged with this new local name:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/marys-repo$ git log -1
commit 87c08e662032ab32a5cd5e30aabacf5b07709160
Author: Mary &lt;mary.example@rypress.com&gt;     #&lt;------
Date:   Sat Jan 21 00:12:30 2017 -0500</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>add bio page for mary</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git lg -2
* 87c08e6 - (HEAD -&gt; master, bio-page) add bio page for mary (43 minutes ago)&lt;Mary&gt;
* 81a6beb - (origin/master, origin/HEAD) Add green page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_add_remote"><a class="anchor" href="#_add_remote"></a>7.1.2. add remote</h4>
<div class="paragraph">
<p>git-remote - Manage set of tracked repositories</p>
</div>
<div class="paragraph">
<p>connections to other repos:</p>
</div>
<div class="paragraph">
<p>by the nature of "clone", a cloned repo already inherits a "remote" repo - the
repo from which it cloned:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/marys-repo$ git remote
origin</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/marys-repo$ git remote -v
origin  /home/ping/Dropbox/git/my-git-repo (fetch)
origin  /home/ping/Dropbox/git/my-git-repo (push)</pre>
</div>
</div>
<div class="paragraph">
<p>our orignal repo may not have any remote:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/marys-repo$ cd ../my-git-repo/
ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git remote -v
ping@ubuntu1404:~/Dropbox/git/my-git-repo$</pre>
</div>
</div>
<div class="paragraph">
<p>but we can add some remote:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git remote add mary ../marys-repo/
ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git remote -v
mary    ../marys-repo/ (fetch)
mary    ../marys-repo/ (push)</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__fetch_remote_branches_in"><a class="anchor" href="#__fetch_remote_branches_in"></a>7.1.3. 'fetch' remote branches in</h4>
<div class="paragraph">
<p>git-fetch - Download objects and refs from another repository</p>
</div>
<div class="paragraph">
<p>now we have a remote, with that we now can fetch some remote branches:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git branch -r</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git fetch mary
remote: Counting objects: 4, done.
remote: Compressing objects: 100% (4/4), done.
remote: Total 4 (delta 1), reused 0 (delta 0)
Unpacking objects: 100% (4/4), done.
From ../marys-repo
 * [new branch]      bio-page   -&gt; mary/bio-page
 * [new branch]      master     -&gt; mary/master</pre>
</div>
</div>
<div class="paragraph">
<p>fetched remote branches:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git branch -r
  mary/bio-page
  mary/master</pre>
</div>
</div>
<div class="paragraph">
<p>local branch remain unchanged:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git br
* master</pre>
</div>
</div>
<div class="paragraph">
<p>we can switch to a remote branch:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git co mary/master
Note: checking out 'mary/master'.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>git checkout -b &lt;new-branch-name&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>HEAD is now at 87c08e6... add bio page for mary</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git br
* (HEAD detached at mary/master)
  master</pre>
</div>
</div>
<div class="paragraph">
<p>this results in a "detached HEAD" state.</p>
</div>
<div class="paragraph">
<p>check what has been done between in remote 'master' branch (that is not in
local 'master')</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git log master..mary/master --stat
commit 87c08e662032ab32a5cd5e30aabacf5b07709160
Author: Mary &lt;mary.example@rypress.com&gt;
Date:   Sat Jan 21 00:12:30 2017 -0500</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>add bio page for mary</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>about/mary.html | 19 ++++++++++++++++++-
1 file changed, 18 insertions(+), 1 deletion(-)</pre>
</div>
</div>
<div class="paragraph">
<p>and, nothing has been done in local master yet since remote repo got cloned</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git log mary/master..master --stat
ping@ubuntu1404:~/Dropbox/git/my-git-repo$</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_merge_a_remote_branch_in"><a class="anchor" href="#_merge_a_remote_branch_in"></a>7.1.4. merge a remote branch in</h4>
<div class="paragraph">
<p>now go to master branch and merge a remote branch in</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git co master
Previous HEAD position was 87c08e6... add bio page for mary
Switched to branch 'master'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git br
* master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git reflog -5
81a6beb HEAD@{0}: checkout: moving from 87c08e662032ab32a5cd5e30aabacf5b07709160 to master
87c08e6 HEAD@{1}: checkout: moving from master to mary/master
81a6beb HEAD@{2}: merge green-page: Fast-forward
5fa9624 HEAD@{3}: checkout: moving from green-page to master
81a6beb HEAD@{4}: checkout: moving from 81a6bebc4a2ed23ee91977bfd9075e39891f3875 to green-page</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git lg -5
* 81a6beb - (HEAD -&gt; master) Add green page (4 years, 1 month ago)&lt;Ryan&gt;
* d5c67ef - Add yellow page (4 years, 1 month ago)&lt;Ryan&gt;
* 04a0735 - Add red page (4 years, 1 month ago)&lt;Ryan&gt;
* 5fa9624 - Add link to about section in home page (4 years, 1 month ago)&lt;Ryan&gt;
* b490c20 - Begin creating bio pages (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git merge mary/master
Updating 81a6beb..87c08e6
Fast-forward
 about/mary.html | 19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)</pre>
</div>
</div>
<div class="paragraph">
<p>this is a ff merge:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git reflog -3
87c08e6 HEAD@{0}: merge mary/master: Fast-forward   #&lt;------
81a6beb HEAD@{1}: checkout: moving from 87c08e662032ab32a5cd5e30aabacf5b07709160 to master
87c08e6 HEAD@{2}: checkout: moving from master to mary/master</pre>
</div>
</div>
<div class="paragraph">
<p>now, our local master branch is synched with remote master branch:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg -2
* 87c08e6 - (HEAD -&gt; master, mary/master, mary/bio-page) add bio page for mary (62 minutes ago)&lt;Mary&gt;
* 81a6beb - Add green page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__push_to_a_remote_repo"><a class="anchor" href="#__push_to_a_remote_repo"></a>7.1.5. 'push' to a remote repo</h4>
<div class="paragraph">
<p>git-push - Update remote refs along with associated objects</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git branch dummy
ping@ubuntu1404:~/my-git-repo$ git br
  dummy
* master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git push mary dummy
Total 0 (delta 0), reused 0 (delta 0)
To ../marys-repo/
 * [new branch]      dummy -&gt; dummy</pre>
</div>
</div>
<div class="paragraph">
<p>this reads: "push" to remote repo "mary" a local branch "dummy"</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ cd ../marys-repo</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git br
  bio-page
  dummy
* master</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
never push into other people&#8217;s repo!
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_push_a_local_tag"><a class="anchor" href="#_push_a_local_tag"></a>7.1.6. push a local tag</h4>
<div class="paragraph">
<p>a local tag won&#8217;t be automatically pushed associated with a branch</p>
</div>
<div class="paragraph">
<p>create a local tag for a branch</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git br
* master
ping@ubuntu1404:~/my-git-repo$ git tag -a v2.0 -m "an even stable version"</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git tag
v1.0
v2.0</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg -3
* 87c08e6 - (HEAD -&gt; master, tag: v2.0, mary/master, mary/dummy, mary/bio-page) add bio page for mary (77 minutes ago)&lt;Mary&gt;
* 81a6beb - Add green page (4 years, 1 month ago)&lt;Ryan&gt;
* d5c67ef - Add yellow page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>push the branch got rejected: nothing to push</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git push mary master
Everything up-to-date       #&lt;------</pre>
</div>
</div>
<div class="paragraph">
<p>the tag is not pushed into remote:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ cd ../marys-repo
ping@ubuntu1404:~/marys-repo$ git tag
v1.0</pre>
</div>
</div>
<div class="paragraph">
<p>the tag should be pushed seperately:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git push mary v2.0
Counting objects: 1, done.
Writing objects: 100% (1/1), 162 bytes | 0 bytes/s, done.
Total 1 (delta 0), reused 0 (delta 0)
To ../marys-repo/
 * [new tag]         v2.0 -&gt; v2.0</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ cd ../marys-repo
ping@ubuntu1404:~/marys-repo$ git tag
v1.0
v2.0</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git lg -2
* 87c08e6 - (HEAD -&gt; master, tag: v2.0, bio-page) add bio page for mary (77 minutes ago)&lt;Mary&gt;
* 81a6beb - (origin/master, origin/HEAD) Add green page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_github"><a class="anchor" href="#_github"></a>7.2. github</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>create a private key</p>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~$ ssh-keygen -t rsa -C "songpingemail@gmail.com"</pre>
</div>
</div>
</li>
<li>
<p>add to github (from github web page)</p>
</li>
<li>
<p>test:</p>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~$ ssh pinggit.github.com
X11 forwarding request failed on channel 0
PTY allocation request failed on channel 0
Hi pinggit! You've successfully authenticated, but GitHub does not provide shell access.
Connection to github.com closed.</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">create an empty repo in github (from github web page)</div>
<p>github &#8594; create repo</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>push</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>name a remote repo as "origin"</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git remote add origin https://github.com/pinggit/learngit.git</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git remote -v
origin  https://github.com/pinggit/learngit.git (fetch)
origin  https://github.com/pinggit/learngit.git (push)</pre>
</div>
</div>
<div class="paragraph">
<p>push a local repo (and the 'master' branch) to the remote repo 'origin':</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git push -u origin master
Username for 'https://github.com': pinggit
Password for 'https://pinggit@github.com':
Counting objects: 24, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (20/20), done.
Writing objects: 100% (24/24), 2.04 KiB | 0 bytes/s, done.
Total 24 (delta 6), reused 0 (delta 0)
remote: Resolving deltas: 100% (6/6), done.
To https://github.com/pinggit/learngit.git
 * [new branch]      master -&gt; master
Branch master set up to track remote branch master from origin.</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>which branches to push and which not?</p>
</div>
<div class="ulist">
<ul>
<li>
<p>master and dev reflect the "main" work and progress, so they need to be
pushed/synced</p>
</li>
<li>
<p>bug fix branches, stay locally, normally no need</p>
</li>
<li>
<p>feature branches, depends</p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>before:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22091005/7ec223f4-ddc2-11e6-8b37-063f6430b1ea.png" alt="7ec223f4 ddc2 11e6 8b37 063f6430b1ea">
</div>
</div>
<div class="paragraph">
<p>after:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22091029/a17a103c-ddc2-11e6-9f7d-a0f3403cbcb5.png" alt="a17a103c ddc2 11e6 9f7d a0f3403cbcb5">
</div>
</div>
<div class="paragraph">
<p>push a local dev branch:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git push origin dev
Username for 'https://github.com': pinggit
Password for 'https://pinggit@github.com':
Total 0 (delta 0), reused 0 (delta 0)
To https://github.com/pinggit/learngit.git
 * [new branch]      dev -&gt; dev</pre>
</div>
</div>
<div class="paragraph">
<p>now (other folks), clone the remote repo into a local folder, named 'learngit2':</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~$ git clone https://github.com/pinggit/learngit learngit2
Cloning into 'learngit2'...
remote: Counting objects: 50, done.
remote: Compressing objects: 100% (29/29), done.
remote: Total 50 (delta 17), reused 50 (delta 17), pack-reused 0
Unpacking objects: 100% (50/50), done.
Checking connectivity... done.</pre>
</div>
</div>
<div class="paragraph">
<p>by default, only the 'master' branch is visible:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit2$ git branch
* master</pre>
</div>
</div>
<div class="paragraph">
<p>to recreate the dev branch:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit2$ git checkout -b dev origin/dev
Branch dev set up to track remote branch dev from origin.
Switched to a new branch 'dev'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit2$ git branch
* dev
  master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit2$ ls -l
total 1
-rwxr-x--- 1 ping ping   0 Jan 18 21:24 hello.py
-rwxr-x--- 1 ping ping   0 Jan 18 21:22 LICENSE
-rwxr-x--- 1 ping ping 240 Jan 18 21:24 readme.txt</pre>
</div>
</div>
<div class="paragraph">
<p>now he can switch between different branches like the repo originator:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit2$ git co master
Switched to branch 'master'
Your branch is up-to-date with 'origin/master'.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit2$ ls -l
total 1
-rwxr-x--- 1 ping ping   0 Jan 18 21:22 LICENSE
-rwxr-x--- 1 ping ping 220 Jan 18 21:24 readme.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit2$ git checkout dev
Switched to branch 'dev'
Your branch is up-to-date with 'origin/dev'.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit2$ ls -l
total 1
-rwxr-x--- 1 ping ping   0 Jan 18 21:24 hello.py
-rwxr-x--- 1 ping ping   0 Jan 18 21:22 LICENSE
-rwxr-x--- 1 ping ping 240 Jan 18 21:24 readme.txt</pre>
</div>
</div>
<div class="paragraph">
<p>now he can work on 'dev' branch, make changes, commit and push to remote repo:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit2$ vim hello.py
ping@ubuntu1404:~/learngit2$ git add -A .
ping@ubuntu1404:~/learngit2$ git commit -m "add /usr/bin/env python"
[dev e566ff5] add /usr/bin/env python
 1 file changed, 1 insertion(+)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit2$ git push origin dev
Username for 'https://github.com': pinggit
Password for 'https://pinggit@github.com':
Counting objects: 6, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (2/2), done.
Writing objects: 100% (3/3), 337 bytes | 0 bytes/s, done.
Total 3 (delta 0), reused 0 (delta 0)
To https://github.com/pinggit/learngit
   0df2b58..e566ff5  dev -&gt; dev</pre>
</div>
</div>
<div class="paragraph">
<p>assuming you also made some changes to hello.py, and want to push to remote
repo too:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ vim hello.py
ping@ubuntu1404:~/learngit$ git status
On branch dev
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>modified:   hello.py</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>no changes added to commit (use "git add" and/or "git commit -a")</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git commit -am "add coding: utf-8"
[dev ad9a8eb] add coding: utf-8
 1 file changed, 2 insertions(+)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git push origin dev
To https://github.com/pinggit/learngit.git
 ! [rejected]        dev -&gt; dev (fetch first)
error: failed to push some refs to 'https://github.com/pinggit/learngit.git'
hint: Updates were rejected because the remote contains work that you do
hint: not have locally. This is usually caused by another repository pushing
hint: to the same ref. You may want to first integrate the remote changes
hint: (e.g., 'git pull ...') before pushing again.
hint: See the 'Note about fast-forwards' in 'git push --help' for details.</pre>
</div>
</div>
<div class="paragraph">
<p>the push failed, git reminds you need to "pull" the changes on remote repo
first:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git pull
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 0), reused 3 (delta 0), pack-reused 0
Unpacking objects: 100% (3/3), done.
From https://github.com/pinggit/learngit
   0df2b58..e566ff5  dev        -&gt; origin/dev
There is no tracking information for the current branch.
Please specify which branch you want to merge with.
See git-pull(1) for details</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>git pull &lt;remote&gt; &lt;branch&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>If you wish to set tracking information for this branch you can do so with:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>git branch --set-upstream-to=origin/&lt;branch&gt; dev</pre>
</div>
</div>
<div class="paragraph">
<p>it failed. because git does not know from which remote branch you want to merge
your change with. git also reminded what to do: specify a remote branch (a
"upstream" branch) that you want to link to current branch:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git branch --set-upstream-to=origin/dev dev
Branch dev set up to track remote branch dev from origin.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git branch
* dev
  issue-101
  master</pre>
</div>
</div>
<div class="paragraph">
<p>now pull will (almost) succeed, but with conflicitons:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git pull
Auto-merging hello.py
CONFLICT (content): Merge conflict in hello.py
Automatic merge failed; fix conflicts and then commit the result.</pre>
</div>
</div>
<div class="paragraph">
<p>check the confliction in file:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ cat hello.py
#!/usr/bin/env python
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD                #&lt;------the change by latest local commit - current HEAD
# -*- coding: utf8 -*-      #&lt;------change1: added this line
=======                     #&lt;------change2: nothing - no above line
&gt;&gt;&gt;&gt;&gt;&gt;&gt; e566ff52...         #&lt;------a change by a non-local commit (by other folks)</pre>
</div>
</div>
<div class="paragraph">
<p>to confirm to which commit your commit is conflicting with:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git log | grep e566     #&lt;------not by you</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ cd ~/learngit2
ping@ubuntu1404:~/learngit2$ git log | grep e566    #&lt;------by user2
commit e566ff52c29e9097f95eddb30ebda1f846f8d6ca</pre>
</div>
</div>
<div class="paragraph">
<p>now trying to fix the confliction, then add, commit and push.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git commit -am "merge with user2 &amp; fix confliction hello.py"
[dev 024b752] merge with user2 &amp; fix confliction hello.py</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git push origin dev
Counting objects: 9, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (4/4), 498 bytes | 0 bytes/s, done.
Total 4 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), done.
To https://github.com/pinggit/learngit.git
   e566ff5..024b752  dev -&gt; dev</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_centralized_workflow"><a class="anchor" href="#_centralized_workflow"></a>8. centralized workflow</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22178286/00720b28-e000-11e6-8db9-5724e7008944.png" alt="00720b28 e000 11e6 8db9 5724e7008944">
</div>
</div>
<div class="sect2">
<h3 id="_create_the_central_hub_repo"><a class="anchor" href="#_create_the_central_hub_repo"></a>8.1. create the central/hub repo</h3>
<div class="paragraph">
<p>create an empty (bare) repo named "central-repo" in github</p>
</div>
<div class="paragraph">
<p>add it to our repo as a remote:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git$ cd my-git-repo/
ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git remote -v
origin  https://github.com/pinggit/central-repo.git (fetch)
origin  https://github.com/pinggit/central-repo.git (push)</pre>
</div>
</div>
<div class="paragraph">
<p>push local master branch into it.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git push origin master
Counting objects: 81, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (78/78), done.
Writing objects: 100% (81/81), 9.34 KiB | 0 bytes/s, done.
Total 81 (delta 37), reused 0 (delta 0)
remote: Resolving deltas: 100% (37/37), done.
To https://github.com/pinggit/central-repo.git
 * [new branch]      master -&gt; master</pre>
</div>
</div>
<div class="paragraph">
<p>download(clone) the remote repo to check it&#8217;s info:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git$ git clone https://github.com/pinggit/central-repo.git
Cloning into 'central-repo'...
remote: Counting objects: 81, done.
remote: Compressing objects: 100% (41/41), done.
remote: Total 81 (delta 37), reused 81 (delta 37), pack-reused 0
Unpacking objects: 100% (81/81), done.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git$ cd central-repo/
ping@ubuntu1404:~/Dropbox/git/central-repo$ ls
about  blue.html  green.html  index.html  news-1.html  news-2.html
orange.html  rainbow.html  red.html  style.css  yellow.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/central-repo$ git lg
* 87c08e6 - (HEAD -&gt; master, origin/master, origin/HEAD) add bio page for mary (14 hours ago)&lt;Mary&gt;
* 81a6beb - Add green page (4 years, 1 month ago)&lt;Ryan&gt;
* d5c67ef - Add yellow page (4 years, 1 month ago)&lt;Ryan&gt;
......</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_de1_push_change1"><a class="anchor" href="#_de1_push_change1"></a>8.2. DE1: push change1</h3>
<div class="paragraph">
<p>create and commit some local changes</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ vim co -b news-item
2 files to edit
ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git co -b news-item
Switched to a new branch 'news-item'
ping@ubuntu1404:~/Dropbox/git/my-git-repo$ vim news-3.html
ping@ubuntu1404:~/Dropbox/git/my-git-repo$ vim index.html
ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git st
On branch news-item
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>modified:   index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>news-3.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>no changes added to commit (use "git add" and/or "git commit -a")</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git lg -2
* 87c08e6 - (HEAD -&gt; news-item, tag: v2.0, origin/master, master) add bio page for mary (15 hours ago)&lt;Mary&gt;
* 81a6beb - Add green page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git reflog -2
87c08e6 HEAD@{0}: checkout: moving from master to news-item
87c08e6 HEAD@{1}: merge mary/master: Fast-forward</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git add news-3.html index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git co master
Switched to branch 'master'
ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git merge news-item
Updating 87c08e6..0545711
Fast-forward
 index.html  |  1 +
 news-3.html | 17 +++++++++++++++++
 2 files changed, 18 insertions(+)
 create mode 100644 news-3.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git br -d news-item
Deleted branch news-item (was 0545711).</pre>
</div>
</div>
<div class="paragraph">
<p>push to the remote (central) repo:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo$ git push origin master
Counting objects: 8, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (8/8), done.
Writing objects: 100% (8/8), 1.28 KiB | 0 bytes/s, done.
Total 8 (delta 3), reused 0 (delta 0)
remote: Resolving deltas: 100% (3/3), completed with 2 local objects.
To https://github.com/pinggit/central-repo.git
   81a6beb..0545711  master -&gt; master</pre>
</div>
</div>
<div class="paragraph">
<p>visualize as:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22177267/74895aec-dfe8-11e6-9686-62cef09946f0.png" alt="74895aec dfe8 11e6 9686 62cef09946f0">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_de2_push_change2"><a class="anchor" href="#_de2_push_change2"></a>8.3. DE2: push change2</h3>
<div class="paragraph">
<p>another DE now commit a change</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git co -b css-edits
Switched to a new branch 'css-edits'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ vim style.css
ping@ubuntu1404:~/marys-repo$ git cm -am "add css styles for headings"
[css-edits e90a427] add css styles for headings
 1 file changed, 9 insertions(+)</pre>
</div>
</div>
<div class="paragraph">
<p>and forget a second change:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ vim style.css</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git cm -am "add css styles for 3rd level headings"
[css-edits 678f397] add css styles for 3rd level headings
 1 file changed, 4 insertions(+)</pre>
</div>
</div>
<div class="paragraph">
<p>do interactive rebase - squash the 2nd commit and just merge it into the 1st one</p>
</div>
<div class="literalblock">
<div class="content">
<pre>pick e90a427 add css styles for headings
squash 678f397 add css styles for 3rd level headings</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git rebase -i master
[detached HEAD 0421370] Add css styles for headings (after rebase)
 Date: Sat Jan 21 14:49:19 2017 -0500
 1 file changed, 13 insertions(+)
Successfully rebased and updated refs/heads/css-edits.
ping@ubuntu1404:~/marys-repo$</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>one of the goodness of always using a new branch to develop new features,
is this rebase command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>rebase -i master'</pre>
</div>
</div>
<div class="paragraph">
<p>will always pop up all commits since (not yet in) 'master', automatically. no
need to figure out what changes need to be rebased.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_de2_push_got_rejected"><a class="anchor" href="#_de2_push_got_rejected"></a>8.4. DE2: push got rejected</h3>
<div class="paragraph">
<p>now publish/push to central repo will get rejected:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git push origin master
To https://github.com/pinggit/central-repo.git
 ! [rejected]        master -&gt; master (fetch first)
 error: failed to push some refs to 'https://github.com/pinggit/central-repo.git'
 hint: Updates were rejected because the remote contains work that you do
 hint: not have locally. This is usually caused by another repository pushing
 hint: to the same ref. You may want to first integrate the remote changes
 hint: (e.g., 'git pull ...') before pushing again.
 hint: See the 'Note about fast-forwards' in 'git push --help' for details.</pre>
</div>
</div>
<div class="paragraph">
<p>to find out what has been done from the remote (that is not merged in local
yet), fetch remote repo, then 'git log a..b' to compare the work.</p>
</div>
</div>
<div class="sect2">
<h3 id="_de2_rebase_and_then_push"><a class="anchor" href="#_de2_rebase_and_then_push"></a>8.5. DE2: rebase and then push</h3>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git rebase origin/master
First, rewinding head to replay your work on top of it...
Applying: Add css styles for headings (after rebase)</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git lg -3
* fdcc000 - (HEAD -&gt; master) Add css styles for headings (after rebase) (49 seconds ago)&lt;Mary&gt; <i class="conum" data-value="1"></i><b>(1)</b>
* 0545711 - (origin/master) add 3rd news item (63 minutes ago)&lt;ping&gt; <i class="conum" data-value="2"></i><b>(2)</b>
* 87c08e6 - (tag: v2.0, bio-page) add bio page for mary (16 hours ago)&lt;Mary&gt;</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>to rebase local master&#8217;s all new updates &#8230;&#8203;</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>on top of tip of remote master&#8217;s latest update</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22177700/76b3a3a0-dff1-11e6-966d-abba4535f5f4.png" alt="76b3a3a0 dff1 11e6 966d abba4535f5f4">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22177702/80bbdb4c-dff1-11e6-8214-b4c0ca10ce7d.png" alt="80bbdb4c dff1 11e6 8214 b4c0ca10ce7d">
</div>
</div>
<div class="paragraph">
<p>now push will succeed</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git push origin master
Counting objects: 3, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (3/3), done.
Writing objects: 100% (3/3), 481 bytes | 0 bytes/s, done.
Total 3 (delta 1), reused 0 (delta 0)
remote: Resolving deltas: 100% (1/1), completed with 1 local objects.
To https://github.com/pinggit/central-repo.git
   0545711..fdcc000  master -&gt; master</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22177712/c810a25c-dff1-11e6-9844-9ba30ca0b778.png" alt="c810a25c dff1 11e6 9844 9ba30ca0b778">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_de1_fetch"><a class="anchor" href="#_de1_fetch"></a>8.6. DE1: fetch</h3>
<div class="paragraph">
<p>DE1 now can fetch all of the remote branches</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/central-repo$ cd ../my-git-repo</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg -3
* 0545711 - (HEAD -&gt; master, origin/master) add 3rd news item (3 hours ago)&lt;ping&gt;
* 87c08e6 - (tag: v2.0) add bio page for mary (17 hours ago)&lt;Mary&gt;
* 81a6beb - Add green page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git fetch origin
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 1), reused 3 (delta 1), pack-reused 0
Unpacking objects: 100% (3/3), done.
From https://github.com/pinggit/central-repo
   0545711..fdcc000  master     -&gt; origin/master</pre>
</div>
</div>
<div class="paragraph">
<p>got a remote branch 'master':</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git branch -r
  origin/master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git br
* master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git st
On branch master
nothing to commit, working tree clean</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_de1_check_what_is_new_in_the_remote_branch"><a class="anchor" href="#_de1_check_what_is_new_in_the_remote_branch"></a>8.7. DE1: check what is new in the remote branch:</h3>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg -3
* 0545711 - (HEAD -&gt; master) add 3rd news item (3 hours ago)&lt;ping&gt;
* 87c08e6 - (tag: v2.0) add bio page for mary (17 hours ago)&lt;Mary&gt;
* 81a6beb - Add green page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg origin/master -3
* fdcc000 - (origin/master) Add css styles for headings (after rebase) (2 hours ago)&lt;Mary&gt;
* 0545711 - (HEAD -&gt; master) add 3rd news item (3 hours ago)&lt;ping&gt;
* 87c08e6 - (tag: v2.0) add bio page for mary (17 hours ago)&lt;Mary&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>there is one new change/commit, in remote branch, but not in local branch.</p>
</div>
<div class="paragraph">
<p>a simpler way is to use:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git lg a..b</pre>
</div>
</div>
<div class="paragraph">
<p>this is to tell the 'diff' of b based from a&#8217;s perspective - those in b but no
in a:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg master..origin/master
* fdcc000 - (origin/master) Add css styles for headings (after rebase) (2 hours ago)&lt;Mary&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg master..origin/master --stat
* fdcc000 - (origin/master) Add css styles for headings (after rebase) (2 hours ago)&lt;Mary&gt;
   style.css | 13 +++++++++++++
   1 file changed, 13 insertions(+)</pre>
</div>
</div>
<div class="paragraph">
<p>nothing new in local but not in remote:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg origin/master..master</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_de1_ff_merge_remote_branch_into_local"><a class="anchor" href="#_de1_ff_merge_remote_branch_into_local"></a>8.8. DE1: (ff) merge remote branch into local:</h3>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git merge origin/master
Updating 0545711..fdcc000
Fast-forward
 style.css | 13 +++++++++++++
 1 file changed, 13 insertions(+)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg -3
* fdcc000 - (HEAD -&gt; master, origin/master) Add css styles for headings (after rebase) (2 hours ago)&lt;Mary&gt;
* 0545711 - add 3rd news item (3 hours ago)&lt;ping&gt;
* 87c08e6 - (tag: v2.0) add bio page for mary (17 hours ago)&lt;Mary&gt;</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_distributed_workflow"><a class="anchor" href="#_distributed_workflow"></a>9. distributed workflow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>assuming DE1 is the lead DE or maintainer of a project</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>DE1 create private repo: priv1</p>
</li>
<li>
<p>DE1 publish/push to public repo: pub1: priv1 &#8594; pub1</p>
</li>
<li>
<p>DE2 clone DE1&#8217;s public repo as private repo: pub1&#8594;priv2</p>
</li>
<li>
<p>DE2 publish/push the work to another public repo: priv2&#8594;pub2</p>
</li>
<li>
<p>DE1 pull the work from pub2 into priv1: pub2 &#8594; priv1</p>
</li>
<li>
<p>DE1 publish/push the work from priv1 to pub1: priv1 &#8594; pub1</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22179365/766c01ca-e01f-11e6-99b5-de168f24dcee.png" alt="766c01ca e01f 11e6 99b5 de168f24dcee">
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>all DEs pull any work from pub1 into priv2: pub1 &#8594; priv2</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>the integrator workflow requires that everyone pull from a single, official
repository, while they all push to their own public repositories</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22180256/3076ad18-e039-11e6-88d3-0698bf216148.png" alt="3076ad18 e039 11e6 88d3 0698bf216148">
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_patch_workflow"><a class="anchor" href="#_patch_workflow"></a>10. patch workflow</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>DE2 commit some changes in his private repo priv2: changes &#8594; priv2</p>
</li>
<li>
<p>DE2 generate the patches</p>
</li>
<li>
<p>DE2 send patches to DE1 (maintainer): DE2 email patches &#8594; DE1</p>
</li>
<li>
<p>DE1 apply patches to his private repo: patch &#8594; priv1</p>
</li>
<li>
<p>DE1 push to the central repo: pub1</p>
</li>
<li>
<p>DE2 fetch and merge/rebase (or, just pull) changes from pub1: pub1 &#8594; priv2</p>
</li>
<li>
<p>DE2 merge priv2 to his private master: priv2 &#8594; master</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_de2_commit_some_changes"><a class="anchor" href="#_de2_commit_some_changes"></a>10.1. DE2 commit some changes</h3>
<div class="paragraph">
<p>mary commit some new work (called work1) on a branch:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git br
  bio-page
* master
ping@ubuntu1404:~/marys-repo$ git co -b pink-page
Switched to a new branch 'pink-page'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git br -a
  bio-page
  master
* pink-page
  remotes/origin/master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git lg -3
* fe71224 - (HEAD -&gt; pink-page, origin/master, master) add pink page (26 hours ago)&lt;john&gt;
* fdcc000 - Add css styles for headings (after rebase) (33 hours ago)&lt;Mary&gt;
* 0545711 - add 3rd news item (34 hours ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git ref -3
fe71224 HEAD@{0}: checkout: moving from master to pink-page
fe71224 HEAD@{1}: rebase finished: returning to refs/heads/master
fe71224 HEAD@{2}: rebase: checkout origin/master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ vim pink.html
ping@ubuntu1404:~/marys-repo$ git cm -am "change pink to a manly color"
[pink-page 07b05e4] change pink to a manly color
 1 file changed, 1 insertion(+), 2 deletions(-)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git ref -2
07b05e4 HEAD@{0}: commit: change pink to a manly color      #&lt;------
fe71224 HEAD@{1}: checkout: moving from master to pink-page</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git lg -2
* 07b05e4 - (HEAD -&gt; pink-page) change pink to a manly color (10 minutes ago)&lt;Mary&gt;         #&lt;------
* fe71224 - (origin/master, master) add pink page (26 hours ago)&lt;john&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>to look at what has been done since branching off from master:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git lg master..HEAD
* 07b05e4 - (HEAD -&gt; pink-page) change pink to a manly color (37 seconds ago)&lt;Mary&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git lg master..pink-page
* 07b05e4 - (HEAD -&gt; pink-page) change pink to a manly color (43 seconds ago)&lt;Mary&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git st
On branch pink-page
nothing to commit, working tree clean</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_de2_generate_a_patch_for_the_new_work"><a class="anchor" href="#_de2_generate_a_patch_for_the_new_work"></a>10.2. DE2 generate a patch for the new work:</h3>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git format-patch master
0001-change-pink-to-a-manly-color.patch</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ ls -lct | head
total 112
-rw-rw-r-- 1 ping ping  662 Jan 23 01:13 0001-change-pink-to-a-manly-color.patch <i class="conum" data-value="1"></i><b>(1)</b>
-rw-rw-r-- 1 ping ping  328 Jan 23 01:12 pink.html
-rw-rw-r-- 1 ping ping 1242 Jan 22 00:05 index.html
-rw-rw-r-- 1 ping ping  325 Jan 21 15:45 style.css
-rw-rw-r-- 1 ping ping  619 Jan 21 15:45 news-3.html
drwxrwxr-x 2 ping ping 4096 Jan 21 00:22 about
-rw-rw-r-- 1 ping ping  356 Jan 21 00:00 yellow.html
-rw-rw-r-- 1 ping ping  347 Jan 21 00:00 red.html
-rw-rw-r-- 1 ping ping  592 Jan 21 00:00 rainbow.html</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>generated patch file for the additional work (work1) done since branching
off from master</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>remove it for now.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ rm 0001-change-pink-to-a-manly-color.patch</pre>
</div>
</div>
<div class="paragraph">
<p>continue to add new work2:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ vim pink.html
ping@ubuntu1404:~/marys-repo$ vim pink.html
ping@ubuntu1404:~/marys-repo$ git cm -am "add a pink block of color"
[pink-page 5d87d5b] add a pink block of color
 1 file changed, 7 insertions(+)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git lg master..pink-page
* 5d87d5b - (HEAD -&gt; pink-page) add a pink block of color (30 seconds ago)&lt;Mary&gt;    #&lt;------work2
* 07b05e4 - change pink to a manly color (11 minutes ago)&lt;Mary&gt;     #&lt;------work1</pre>
</div>
</div>
<div class="paragraph">
<p>now generate patch(es) for the 2 new commits:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git format-patch master
0001-change-pink-to-a-manly-color.patch     #&lt;------commit1
0002-add-a-pink-block-of-color.patch        #&lt;------commit2</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_patch_files"><a class="anchor" href="#_patch_files"></a>10.3. patch files</h3>
<div class="listingblock">
<div class="title">patch for commit1</div>
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ cat 0001-change-pink-to-a-manly-color.patch
From 07b05e4198b55fc9b77114ff3149590fa6b616cd Mon Sep 17 00:00:00 2001
From: Mary &lt;mary.example@rypress.com&gt;
Date: Mon, 23 Jan 2017 01:12:50 -0500
Subject: [PATCH 1/2] change pink to a manly color

---
 pink.html | 3 +--      <i class="conum" data-value="1"></i><b>(1)</b>
 1 file changed, 1 insertion(+), 2 deletions(-) <i class="conum" data-value="2"></i><b>(2)</b>

diff --git a/pink.html b/pink.html
index a10f32d..11c50da 100644   <i class="conum" data-value="3"></i><b>(3)</b>
--- a/pink.html
+++ b/pink.html
@@ -7,8 +7,7 @@         <i class="conum" data-value="4"></i><b>(4)</b>
 &lt;/head&gt;
 &lt;body&gt;
 &lt;h1 style="color: #F0F"&gt;The Pink Page&lt;/h1&gt;
-&lt;p&gt;Pink is &lt;span style="color: #F0F"&gt;girly,    <i class="conum" data-value="5"></i><b>(5)</b>
-flirty and fun&lt;/span&gt;!&lt;/p&gt;                     <i class="conum" data-value="5"></i><b>(5)</b>
+&lt;p&gt;Only &lt;span style="color: #F0F"&gt;real men&lt;/span&gt; wear pink!&lt;/p&gt; <i class="conum" data-value="6"></i><b>(6)</b>
 &lt;p&gt;&lt;a href="index.html"&gt;Return to home page&lt;/a&gt;&lt;/p&gt;
 &lt;/body&gt;
 &lt;/html&gt;
--
2.11.0</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>3 changes in a file 'pink.html'?</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>what kind of changes</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>this patch is between commit a10f to 11c5</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>num of changed lines</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>removed (-) lines</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>added (+) lines</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">patch for commit2</div>
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ cat 0002-add-a-pink-block-of-color.patch
From 5d87d5b0de7ce3f0cdf0c799ad8b6904b4f5a093 Mon Sep 17 00:00:00 2001
From: Mary &lt;mary.example@rypress.com&gt;
Date: Mon, 23 Jan 2017 01:23:19 -0500
Subject: [PATCH 2/2] add a pink block of color

---
 pink.html | 7 +++++++
 1 file changed, 7 insertions(+)

diff --git a/pink.html b/pink.html
index 11c50da..8824548 100644
--- a/pink.html
+++ b/pink.html
@@ -4,10 +4,17 @@
 &lt;title&gt;The Pink Page&lt;/title&gt;
 &lt;link rel="stylesheet" href="style.css" /&gt;
 &lt;meta charset="utf-8" /&gt;
+&lt;style&gt;
+div {
+    width: 300px;
+    height: 50px;
+}
+&lt;/style&gt;
 &lt;/head&gt;
 &lt;body&gt;
 &lt;h1 style="color: #F0F"&gt;The Pink Page&lt;/h1&gt;
 &lt;p&gt;Only &lt;span style="color: #F0F"&gt;real men&lt;/span&gt; wear pink!&lt;/p&gt;
+&lt;div style="background-color: #F0F"&gt;&lt;/div&gt;
 &lt;p&gt;&lt;a href="index.html"&gt;Return to home page&lt;/a&gt;&lt;/p&gt;
 &lt;/body&gt;
 &lt;/html&gt;
--
2.11.0</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_de2_send_patch_files_to_maintainer_de1"><a class="anchor" href="#_de2_send_patch_files_to_maintainer_de1"></a>10.4. DE2 send patch files to maintainer DE1</h3>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ ls -lct | head
total 120
-rw-rw-r-- 1 ping ping  792 Jan 23 01:24 0002-add-a-pink-block-of-color.patch
-rw-rw-r-- 1 ping ping  666 Jan 23 01:24 0001-change-pink-to-a-manly-color.patch
-rw-rw-r-- 1 ping ping  432 Jan 23 01:22 pink.html
-rw-rw-r-- 1 ping ping 1242 Jan 22 00:05 index.html
-rw-rw-r-- 1 ping ping  325 Jan 21 15:45 style.css
-rw-rw-r-- 1 ping ping  619 Jan 21 15:45 news-3.html
drwxrwxr-x 2 ping ping 4096 Jan 21 00:22 about
-rw-rw-r-- 1 ping ping  356 Jan 21 00:00 yellow.html
-rw-rw-r-- 1 ping ping  347 Jan 21 00:00 red.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ cp 000* ../my-git-repo
ping@ubuntu1404:~/marys-repo$ cd ../my-git-repo
ping@ubuntu1404:~/my-git-repo$ ls -lct |head
total 120
-rw-rw-r-- 1 ping ping  792 Jan 23 01:29 0002-add-a-pink-block-of-color.patch
-rw-rw-r-- 1 ping ping  666 Jan 23 01:29 0001-change-pink-to-a-manly-color.patch
-rw-rw-r-- 1 ping ping  334 Jan 21 23:51 pink.html
-rw-rw-r-- 1 ping ping 1242 Jan 21 23:51 index.html
-rw-rw-r-- 1 ping ping  325 Jan 21 17:32 style.css
-rw-rw-r-- 1 ping ping  619 Jan 21 14:44 news-3.html
drwxrwxr-x 2 ping ping 4096 Jan 21 00:37 about
-rw-rw-r-- 1 ping ping  592 Jan 20 23:59 rainbow.html
-rw-rw-r-- 1 ping ping  356 Jan 20 23:59 yellow.html</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_maintainer_de1_apply_the_patch"><a class="anchor" href="#_maintainer_de1_apply_the_patch"></a>10.5. maintainer/DE1 apply the patch</h3>
<div class="literalblock">
<div class="title">DE1 create a new branch to apply the patch</div>
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git br -a
* master
  remotes/john/pink-page
  remotes/origin/master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git co -b patch-integration
Switched to a new branch 'patch-integration'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg -3
* fe71224 - (HEAD -&gt; patch-integration, origin/master, john/pink-page, master) add pink page (26 hours ago)&lt;john&gt;
* fdcc000 - Add css styles for headings (after rebase) (34 hours ago)&lt;Mary&gt;
* 0545711 - add 3rd news item (35 hours ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git ref -3
fe71224 HEAD@{0}: checkout: moving from master to patch-integration
fe71224 HEAD@{1}: merge john/pink-page: Fast-forward
fdcc000 HEAD@{2}: checkout: moving from fe712242c8d3b3c98951641569d8e8c4e0dc610c to master</pre>
</div>
</div>
<div class="paragraph">
<p>apply patch1</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git am &lt; 0001-change-pink-to-a-manly-color.patch
Applying: change pink to a manly color</pre>
</div>
</div>
<div class="paragraph">
<p>check what is the work in the applied patch: from original master branch, till
now - current HEAD in new branch: patch-integration</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg master..HEAD --stat
* 64ef382 - (HEAD -&gt; patch-integration) change pink to a manly color (21 seconds ago)&lt;Mary&gt;
   pink.html | 3 +--
   1 file changed, 1 insertion(+), 2 deletions(-)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg -3
* 64ef382 - (HEAD -&gt; patch-integration) change pink to a manly color (60 seconds ago)&lt;Mary&gt;         #&lt;------
* fe71224 - (origin/master, john/pink-page, master) add pink page (26 hours ago)&lt;john&gt;
* fdcc000 - Add css styles for headings (after rebase) (34 hours ago)&lt;Mary&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git ref -3
64ef382 HEAD@{0}: am: change pink to a manly color  #&lt;------
fe71224 HEAD@{1}: checkout: moving from master to patch-integration
fe71224 HEAD@{2}: merge john/pink-page: Fast-forward</pre>
</div>
</div>
<div class="paragraph">
<p>the patch applying ('am') works like a 'commit', in that working dir is still
clean (except the patch files themselves) after applying the patches</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git st
On branch patch-integration
Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>0001-change-pink-to-a-manly-color.patch
0002-add-a-pink-block-of-color.patch</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>nothing added to commit but untracked files present (use "git add" to track)</pre>
</div>
</div>
<div class="paragraph">
<p>apply patch2:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git am &lt; 0002-add-a-pink-block-of-color.patch
Applying: add a pink block of color</pre>
</div>
</div>
<div class="paragraph">
<p>the work done in patch2:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg master..HEAD --stat
* 1d2a2ea - (HEAD -&gt; patch-integration) add a pink block of color (9 seconds ago)&lt;Mary&gt;|
|  pink.html | 7 +++++++
|  1 file changed, 7 insertions(+)

* 64ef382 - change pink to a manly color (2 minutes ago)&lt;Mary&gt;
   pink.html | 3 +--
   1 file changed, 1 insertion(+), 2 deletions(-)</pre>
</div>
</div>
<div class="paragraph">
<p>it shows which 2 commits had been applied by the patch, and the details.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg -3
* 1d2a2ea - (HEAD -&gt; patch-integration) add a pink block of color (2 minutes ago)&lt;Mary&gt;     #&lt;------
* 64ef382 - change pink to a manly color (4 minutes ago)&lt;Mary&gt;
* fe71224 - (origin/master, john/pink-page, master) add pink page (26 hours ago)&lt;john&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git ref -3
1d2a2ea HEAD@{0}: am: add a pink block of color     #&lt;------
64ef382 HEAD@{1}: am: change pink to a manly color
fe71224 HEAD@{2}: checkout: moving from master to patch-integration</pre>
</div>
</div>
<div class="literalblock">
<div class="title">merge the patch branch to master</div>
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git co master
Switched to branch 'master'
ping@ubuntu1404:~/my-git-repo$ git br -a
* master
  patch-integration
  remotes/john/pink-page
  remotes/origin/master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git merge patch-integration
Updating fe71224..1d2a2ea
Fast-forward
 pink.html | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)</pre>
</div>
</div>
<div class="paragraph">
<p>now master equals to patch branch, so delete the patch branch and removing
patch files via 'git clean'</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg master..patch-integration</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git br -d patch-integration
Deleted branch patch-integration (was 1d2a2ea).</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git clean -f
Removing 0001-change-pink-to-a-manly-color.patch
Removing 0002-add-a-pink-block-of-color.patch</pre>
</div>
</div>
<div class="paragraph">
<p>remote (central) repo is still not update, so push the change ("up") into it.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg master..origin/master
ping@ubuntu1404:~/my-git-repo$ git lg origin/master..master
* 1d2a2ea - (HEAD -&gt; master) add a pink block of color (5 minutes ago)&lt;Mary&gt;
* 64ef382 - change pink to a manly color (7 minutes ago)&lt;Mary&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git push origin master
Username for 'https://github.com': pinggit
Password for 'https://pinggit@github.com':
Counting objects: 6, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (6/6), done.
Writing objects: 100% (6/6), 721 bytes | 0 bytes/s, done.
Total 6 (delta 4), reused 0 (delta 0)
remote: Resolving deltas: 100% (4/4), completed with 2 local objects.
To https://github.com/pinggit/central-repo.git
   fe71224..1d2a2ea  master -&gt; master</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_de2_update_master_by_pull_changes_from_central_repo"><a class="anchor" href="#_de2_update_master_by_pull_changes_from_central_repo"></a>10.6. DE2 update master: by pull changes from central repo</h3>
<div class="paragraph">
<p>(instead of from local branch)</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ cd ../marys-repo
ping@ubuntu1404:~/marys-repo$ git status
On branch pink-page
Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>0001-change-pink-to-a-manly-color.patch
0002-add-a-pink-block-of-color.patch</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>nothing added to commit but untracked files present (use "git add" to track)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git br -a
  bio-page
  master
* pink-page
  remotes/origin/master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git co master
Switched to branch 'master'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git remote -v
origin  https://github.com/pinggit/central-repo.git (fetch)
origin  https://github.com/pinggit/central-repo.git (push)</pre>
</div>
</div>
<div class="paragraph">
<p>changes in local pink-page branch not made into local master nor 'remote
master' of DE1&#8217;s central repo - the updates by DE1 is not "fetched" in yet.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git lg master..origin/master
ping@ubuntu1404:~/marys-repo$ git lg origin/master..master
ping@ubuntu1404:~/marys-repo$ git lg pink-page..master
ping@ubuntu1404:~/marys-repo$ git lg master..pink-page
* 5d87d5b - (pink-page) add a pink block of color (27 minutes ago)&lt;Mary&gt;
* 07b05e4 - change pink to a manly color (37 minutes ago)&lt;Mary&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>at this time, the "best practice" of updating local master, is not to pull
directly from the topic branch, but instead, (wait?) and pull the updated (and
potentially also merged?) remote master from the central repo:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>to absort all updates that maintainer merged from everyone</p>
</li>
<li>
<p>?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>fetch in the updates from the remote master made by DE1 in the central repo</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git fetch origin
remote: Counting objects: 6, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 6 (delta 4), reused 6 (delta 4), pack-reused 0
Unpacking objects: 100% (6/6), done.
From https://github.com/pinggit/central-repo
   fe71224..1d2a2ea  master     -&gt; origin/master</pre>
</div>
</div>
<div class="paragraph">
<p>now (if DE1 decided and pushed the update), it looks DE1 pushed the update into
remote master, the update now can be seen:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git lg master..origin/master
* 1d2a2ea - (origin/master) add a pink block of color (9 minutes ago)&lt;Mary&gt;
* 64ef382 - change pink to a manly color (12 minutes ago)&lt;Mary&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>now merge/rebase the update from remote master, into local master</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git rebase origin/master
First, rewinding head to replay your work on top of it...
Fast-forwarded master to origin/master.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git lg master..origin/master</pre>
</div>
</div>
<div class="paragraph">
<p>then (force) delete the unmerged topic branch</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git branch -D pink-page
Deleted branch pink-page (was 5d87d5b).</pre>
</div>
</div>
<div class="paragraph">
<p>and remove patches via cleanning working dir</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git clean -f
Removing 0001-change-pink-to-a-manly-color.patch
Removing 0002-add-a-pink-block-of-color.patch</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git lg -3
* 1d2a2ea - (HEAD -&gt; master, origin/master) add a pink block of color (10 minutes ago)&lt;Mary&gt;        #&lt;------
* 64ef382 - change pink to a manly color (12 minutes ago)&lt;Mary&gt;
* fe71224 - add pink page (26 hours ago)&lt;john&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git ref -3
1d2a2ea HEAD@{0}: rebase finished: returning to refs/heads/master   #&lt;------
1d2a2ea HEAD@{1}: rebase: checkout origin/master    #&lt;------
fe71224 HEAD@{2}: checkout: moving from pink-page to master</pre>
</div>
</div>
<div class="paragraph">
<p>DE2&#8217;s whole workflow can be observed here:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ping@ubuntu1404:~/marys-repo$ git ref -6
1d2a2ea HEAD@{0}: rebase finished: returning to refs/heads/master <i class="conum" data-value="6"></i><b>(6)</b>
1d2a2ea HEAD@{1}: rebase: checkout origin/master <i class="conum" data-value="6"></i><b>(6)</b>
fe71224 HEAD@{2}: checkout: moving from pink-page to master <i class="conum" data-value="5"></i><b>(5)</b>
                                                        <i class="conum" data-value="4"></i><b>(4)</b>
5d87d5b HEAD@{3}: commit: add a pink block of color <i class="conum" data-value="3"></i><b>(3)</b>
07b05e4 HEAD@{4}: commit: change pink to a manly color <i class="conum" data-value="2"></i><b>(2)</b>
fe71224 HEAD@{5}: checkout: moving from master to pink-page <i class="conum" data-value="1"></i><b>(1)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>branch off from master with a topic branch</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>&lt;3&gt; work on the topic branch</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>generate patch, send to DE1, wait his merge and push</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>merge/rebase the update from the remote master of DE1&#8217;s central repo into
local master</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tag"><a class="anchor" href="#_tag"></a>11. tag</h2>
<div class="sectionbody">
<div class="paragraph">
<p>create a tag to a (latest commit of) current branch</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git branch
  dev
  issue-101
* master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git tag v1.0</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git tag
v1.0</pre>
</div>
</div>
<div class="paragraph">
<p>create a tag to any commit</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git log --abbrev-commit --pretty=oneline
30da943 merged bug fix 101
e506c8a fix bug 101
4e90dfc merge with no-ff
8eb7f3f add merge
89fb295 conflict fixed
dae9a4b AND simple
71a9574 &amp; simple
06025b4 AND simple
c63c858 branch test
0cb81a3 remove test.txt
1f9259c add test.txt
3320c2b extra comit than book
9321a6d git tracks 2nd changes
b85642d git tracks changes
e516429 understand how stage works
018259a append GPL
f045d1e add distributed
d452688 wrote a readme file</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git tag v0.9 8eb7
ping@ubuntu1404:~/learngit$ git tag
v0.9
v1.0</pre>
</div>
</div>
<div class="paragraph">
<p>show tag detail info:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git show v0.9
commit 8eb7f3f4faa4c998057b024e969e53e229948ee0
Author: ping &lt;songpingemail@gmail.com&gt;
Date:   Wed Jan 18 00:37:45 2017 -0500</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>add merge</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>diff --git a/readme.txt b/readme.txt
index 241c79a..4ac672f 100755
--- a/readme.txt
+++ b/readme.txt
@@ -3,3 +3,4 @@ Git is free software distributed under the GPL.
 Git has a mutable index called stage.
 Git tracks changes of files.
 Creating a new branch is quick and simple.
+whatever change</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git show v1.0
commit 30da943515df70ba51d7435921439fb4246ec21a
Merge: 4e90dfc e506c8a
Author: ping &lt;songpingemail@gmail.com&gt;
Date:   Wed Jan 18 01:10:25 2017 -0500</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>merged bug fix 101</pre>
</div>
</div>
<div class="paragraph">
<p>create a brief note along with the tag</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git tag -a v0.1 -m "version 0.1 released" d452</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git tag
v0.1        #&lt;------
v0.9
v1.0</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git show v0.1
tag v0.1
Tagger: ping &lt;songpingemail@gmail.com&gt;
Date:   Wed Jan 18 22:06:44 2017 -0500</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>version 0.1 released        #&lt;------ the brief statement</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>commit d452688ee8d88edefebc20a13629092fcc07d676
Author: ping &lt;songpingemail@gmail.com&gt;
Date:   Mon Jan 16 23:05:06 2017 -0500</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>wrote a readme file</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>diff --git a/readme.txt b/readme.txt
new file mode 100644
index 0000000..46d49bf
--- /dev/null
+++ b/readme.txt
@@ -0,0 +1,2 @@
+Git is a version control system.</pre>
</div>
</div>
<div class="paragraph">
<div class="title">create a "signed" tag</div>
<p>create a pgp key:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ gpg --gen-key
gpg (GnuPG) 1.4.16; Copyright (C) 2013 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
Your selection? 1
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (2048)
Requested keysize is 2048 bits
Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0)
Key does not expire at all
Is this correct? (y/N) y</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>You need a user ID to identify your key; the software constructs the user ID
from the Real Name, Comment and Email Address in this form:
    "Heinrich Heine (Der Dichter) &lt;heinrichh@duesseldorf.de&gt;"</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Real name: ping song
Email address: songpingemail@gmail.com
Comment:
You selected this USER-ID:
    "ping song &lt;songpingemail@gmail.com&gt;"</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? o
You need a Passphrase to protect your secret key.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>gpg: gpg-agent is not available in this session
You don't want a passphrase - this is probably a *bad* idea!
I will do it anyway.  You can change your passphrase at any time,
using this program with the option "--edit-key".</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Not enough random bytes available.  Please do some other work to give
the OS a chance to collect more entropy! (Need 271 more bytes)
...........+++++
+++++
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Not enough random bytes available.  Please do some other work to give
the OS a chance to collect more entropy! (Need 84 more bytes)
.........+++++</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Not enough random bytes available.  Please do some other work to give
the OS a chance to collect more entropy! (Need 128 more bytes)
....+++++
gpg: key A7323182 marked as ultimately trusted
public and secret key created and signed.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>gpg: checking the trustdb
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
pub   2048R/A7323182 2017-01-19
      Key fingerprint = 7662 186D 19EA 20A4 6E5A  2D22 C3B4 9DD5 A732 3182
uid                  ping song &lt;songpingemail@gmail.com&gt;
sub   2048R/6FD532E3 2017-01-19</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ gpg --list-keys
/home/ping/.gnupg/pubring.gpg
-----------------------------
pub   2048R/A7323182 2017-01-19     #&lt;------ key created
uid                  ping song &lt;songpingemail@gmail.com&gt;
sub   2048R/6FD532E3 2017-01-19</pre>
</div>
</div>
<div class="paragraph">
<p>Once you have a private key to sign with, you can configure Git to use it for
signing things by setting the 'user.signing' key config setting.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git config --global user.signingkey 0A46826A</pre>
</div>
</div>
<div class="paragraph">
<p>Now Git will use your key by default to sign tags and commits if you want</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git tag -s v0.2 -m "signed version 0.2 released" f045</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git show v0.2
tag v0.2
Tagger: ping &lt;songpingemail@gmail.com&gt;
Date:   Wed Jan 18 23:29:38 2017 -0500</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>signed version 0.2 released
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>iQEcBAABAgAGBQJYgECyAAoJEMO0ndWnMjGCKFUH/0mEogXD3/WLojwSYbewWeE5
tJxFdhFPx3GhpMsxitezflgmSkzBuqNprsIxCCHhTU8BJ9hnSLqxrXyOaph2EO+o
vDsIumW0tSrVudO/XMtNcT1Raai/RmQJTmiCk79yGe1CYx0E3YF+EVdDWGJUDMx3
dSiac/0P6FMxbhvsw+69muhQbomWXQFYv4m9O95/SlHuOXxN+ZcWl/gxaoxnSkVg
AntBdCi8PGShe9JprwpSHuI17gJbtpCNcD/Xhw5MzDdLStD9FNEESjwr3Z1kpgev
wPMtIep/tfrQKIID6lADj6Elau9sc9DtyoVqI9OfEJS8mzzFipMQQ70fKR0qvxk=
=jfJC
-----END PGP SIGNATURE-----</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>commit f045d1e47da95d7d3b01c6156b5769c7e7e78816
Author: ping &lt;songpingemail@gmail.com&gt;
Date:   Mon Jan 16 23:08:53 2017 -0500</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>add distributed</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>diff --git a/readme.txt b/readme.txt
index 46d49bf..9247db6 100644
--- a/readme.txt
+++ b/readme.txt
@@ -1,2 +1,2 @@
-Git is a version control system.
+Git is a distributed version control system.
 Git is free software.</pre>
</div>
</div>
<div class="paragraph">
<p>delete a tag</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git tag -d v0.1
Deleted tag 'v0.1' (was be41db3)</pre>
</div>
</div>
<div class="paragraph">
<p>push a tag to remote repo:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git push origin v1.0
Username for 'https://github.com': pinggit
Password for 'https://pinggit@github.com':
Total 0 (delta 0), reused 0 (delta 0)
To https://github.com/pinggit/learngit.git
 * [new tag]         v1.0 -&gt; v1.0</pre>
</div>
</div>
<div class="paragraph">
<p>push all tags to remote repo:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git push origin --tags
Counting objects: 1, done.
Writing objects: 100% (1/1), 535 bytes | 0 bytes/s, done.
Total 1 (delta 0), reused 0 (delta 0)
To https://github.com/pinggit/learngit.git
 * [new tag]         v0.2 -&gt; v0.2
 * [new tag]         v0.9 -&gt; v0.9</pre>
</div>
</div>
<div class="paragraph">
<p>remove a remote tag:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git tag -d v0.9
Deleted tag 'v0.9' (was 8eb7f3f)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git push origin :refs/tags/v0.9
To https://github.com/pinggit/learngit.git
 - [deleted]         v0.9</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rebase"><a class="anchor" href="#_rebase"></a>12. rebase</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>git-rebase - Reapply commits on top of another base tip</p>
</li>
<li>
<p>eliminate need for merge</p>
</li>
<li>
<p>customize/modify commit history and generate a more linear looking history</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_rebase_for_merging_branch"><a class="anchor" href="#_rebase_for_merging_branch"></a>12.1. rebase for merging branch</h3>
<div class="paragraph">
<p>before branch of 'about':</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg
*   359100f - (HEAD -&gt; master) Merge branch 'crazy' (11 minutes ago)&lt;ping&gt;
|\
| * 223b2bb - Add new item for rainbow (32 minutes ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>branch off 'about' from master:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git br
* master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git co -b about</pre>
</div>
</div>
<div class="paragraph">
<p>some change in 'about':</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git cm -am "add contents to about page"
[about aae3ff1] add contents to about page
 1 file changed, 17 insertions(+)
 create mode 100644 about/index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git st
On branch about
nothing to commit, working tree clean</pre>
</div>
</div>
<div class="paragraph">
<p>go back to master for some urgent work:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git co master
Switched to branch 'master'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git lg
*   359100f - (HEAD -&gt; master) Merge branch 'crazy' (23 minutes ago)&lt;ping&gt;
|\
| * 223b2bb - Add new item for rainbow (44 minutes ago)&lt;ping&gt;
......</pre>
</div>
</div>
<div class="paragraph">
<p>branch off 'news-hotfix' for some urgent fix:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git co -b news-hotfix
Switched to a new branch 'news-hotfix'
ping@ubuntu1404:~/Dropbox/my-git-repo$ vim index.html
ping@ubuntu1404:~/Dropbox/my-git-repo$ git cm -am "add 2nd news item to index page"
[news-hotfix 2d9f505] add 2nd news item to index page
 1 file changed, 1 insertion(+)
ping@ubuntu1404:~/Dropbox/my-git-repo$ vim news-2.html
ping@ubuntu1404:~/Dropbox/my-git-repo$ git add news-2.html
ping@ubuntu1404:~/Dropbox/my-git-repo$ ls
blue.html  index.html  news-1.html  news-2.html  orange.html  rainbow.html  style.css
ping@ubuntu1404:~/Dropbox/my-git-repo$ git cm -m "Add article for 2nd news item"
[news-hotfix 4f5e749] Add article for 2nd news item
 1 file changed, 16 insertions(+)
 create mode 100644 news-2.html</pre>
</div>
</div>
<div class="paragraph">
<p>merge the fix into master and delete the temp branch:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git co master
Switched to branch 'master'
ping@ubuntu1404:~/Dropbox/my-git-repo$ git merge news-hotfix
Updating 359100f..4f5e749
Fast-forward
 index.html  |  1 +
 news-2.html | 16 ++++++++++++++++
 2 files changed, 17 insertions(+)
 create mode 100644 news-2.html
ping@ubuntu1404:~/Dropbox/my-git-repo$ git br -d news-hotfix
Deleted branch news-hotfix (was 4f5e749).</pre>
</div>
</div>
<div class="paragraph">
<p>lastest master:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git lg
* 4f5e749 - (HEAD -&gt; master) Add article for 2nd news item (33 seconds ago)&lt;ping&gt; <i class="conum" data-value="1"></i><b>(1)</b>
* 2d9f505 - add 2nd news item to index page (2 minutes ago)&lt;ping&gt; <i class="conum" data-value="2"></i><b>(2)</b>
*   359100f - Merge branch 'crazy' (13 hours ago)&lt;ping&gt;
|\
| * 223b2bb - Add new item for rainbow (13 hours ago)&lt;ping&gt;
| * 078238e - link index.html to rainbow.html (19 hours ago)&lt;ping&gt;
| * 1e6598d - add css stylesheet to rainbow.html (19 hours ago)&lt;ping&gt;
| *   7bdf73f - Merge branch 'master' into crazy (19 hours ago)&lt;ping&gt;
| |\
| * | 7630fb1 - rename crazy.html to rainbow.html (20 hours ago)&lt;ping&gt;
| * | b337c0e - add a rainbow to crazy.html (20 hours ago)&lt;ping&gt;
* | | 48066e1 - changed index.html (13 hours ago)&lt;ping&gt;
* | | ce3ee68 - ADd 1t news item (14 hours ago)&lt;ping&gt;
| |/
|/|
* | 6932529 - Revert "delete css" (20 hours ago)&lt;ping&gt;
* | 84042e4 - Revert "link html pages to stylesheet" (20 hours ago)&lt;ping&gt;
* | a3c8ea6 - delete css (20 hours ago)&lt;ping&gt;
* | 12ecdfe - link html pages to stylesheet (20 hours ago)&lt;ping&gt;
* | 0d57262 - Add CSS stylesheet (20 hours ago)&lt;ping&gt;
* | 44f3a80 - Revert "Add navigation links" (20 hours ago)&lt;ping&gt;
|/
* bfae2e8 - Revert "Add a crazzzy experiment" (4 years, 1 month ago)&lt;Ryan&gt;
* e2e188a - Add a crazzzy experiment (4 years, 1 month ago)&lt;Ryan&gt;
* ebf439f - (tag: v1.0) Add navigation links (4 years, 1 month ago)&lt;Ryan&gt;
* 578959e - Create blue and orange pages (4 years, 1 month ago)&lt;Ryan&gt;
* 67af295 - Create index page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>&lt;1&gt;, &lt;2&gt;: fix merged from news-hotfix temp branch to master</p>
</div>
<div class="paragraph">
<p>and this is a ff merge:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git reflog
4f5e749 HEAD@{0}: merge news-hotfix: Fast-forward
359100f HEAD@{1}: checkout: moving from news-hotfix to master
4f5e749 HEAD@{2}: commit: Add article for 2nd news item
2d9f505 HEAD@{3}: commit: add 2nd news item to index page
359100f HEAD@{4}: checkout: moving from master to news-hotfix
359100f HEAD@{5}: checkout: moving from about to master
......</pre>
</div>
</div>
<div class="paragraph">
<p>now the bug fix in master is done, come back to about branch, now we want to
use 'rebase', instead of 3-way merge, to merge branch about&#8217;s work into master:</p>
</div>
<div class="paragraph">
<p>latest 'about':</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git lg
* aae3ff1 - (HEAD -&gt; about) add contents to about page (34 seconds ago)&lt;ping&gt;
*   359100f - (master) Merge branch 'crazy' (23 minutes ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>we now need a rebase:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git rebase master</pre>
</div>
</div>
<div class="paragraph">
<p>this reads: to rebase 'about' branch <strong>on top of tip of</strong> 'master' branch:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git co about
Switched to branch 'about'
ping@ubuntu1404:~/Dropbox/my-git-repo$ git rebase master
First, rewinding head to replay your work on top of it...
Applying: add contents to about page</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git reflog
1c10864 HEAD@{0}: rebase finished: returning to refs/heads/about    #&lt;------
1c10864 HEAD@{1}: rebase: add contents to about page        #&lt;------
4f5e749 HEAD@{2}: rebase: checkout master   #&lt;------
aae3ff1 HEAD@{3}: checkout: moving from master to about
4f5e749 HEAD@{4}: merge news-hotfix: Fast-forward
359100f HEAD@{5}: checkout: moving from news-hotfix to master
4f5e749 HEAD@{6}: commit: Add article for 2nd news item
2d9f505 HEAD@{7}: commit: add 2nd news item to index page
359100f HEAD@{8}: checkout: moving from master to news-hotfix
......</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git lg
* 1c10864 - (HEAD -&gt; about) add contents to about page (2 minutes ago)&lt;ping&gt;
* 4f5e749 - (master) Add article for 2nd news item (11 minutes ago)&lt;ping&gt;
* 2d9f505 - add 2nd news item to index page (12 minutes ago)&lt;ping&gt;
*   359100f - Merge branch 'crazy' (21 hours ago)&lt;ping&gt;
......</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git br
* about
  master</pre>
</div>
</div>
<div class="paragraph">
<p>what this rebase did:</p>
</div>
<div class="paragraph">
<p>Originally, the about branch was based on the Merge branch 'crazy-experiment'
commit. The rebase took the entire about branch and plopped it onto the tip of
the master branch. After the rebase, about is a linear extension of the master
branch, enabling us to do a fast-forward merge later on. Rebasing also allowed
us to integrate the most up-to-date version of master without a merge commit.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22161053/9ccdf634-df16-11e6-80e6-58e4105cf586.png" alt="9ccdf634 df16 11e6 80e6 58e4105cf586">
</div>
</div>
<div class="paragraph">
<p>in our case:</p>
</div>
<div class="paragraph">
<p>before rebase:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>       ----- aae3 (about)
      /
     /
3591  ------ 2d9f ---- 4f5e (master)</pre>
</div>
</div>
<div class="paragraph">
<p>after rebase:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>    ...............
    .  ----- aae3 .
    . /           . ...........
    ./            .            .
    ...............             .
                                 v
3591  ------ 2d9f ---- 4f5e ---- 1c10
                     (master)   (about)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_rebase_for_merging_commit"><a class="anchor" href="#_rebase_for_merging_commit"></a>12.2. rebase for merging commit</h3>
<div class="sect3">
<h4 id="__squash"><a class="anchor" href="#__squash"></a>12.2.1. 'squash'</h4>
<div class="paragraph">
<p>after rebasing "about" on top of "master", continue the work on "about"</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git br
* about
  master
ping@ubuntu1404:~/Dropbox/my-git-repo$ ls
about  blue.html  index.html  news-1.html
news-2.html  orange.html  rainbow.html  style.css
ping@ubuntu1404:~/Dropbox/my-git-repo$ cd about/</pre>
</div>
</div>
<div class="paragraph">
<p>add one commit:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo/about$ vim me.html
ping@ubuntu1404:~/Dropbox/my-git-repo/about$ git add me.html
ping@ubuntu1404:~/Dropbox/my-git-repo/about$ git cm -am "add html page me.html"
[about 1476df4] add html page me.html
 1 file changed, 19 insertions(+)
 create mode 100644 about/me.html
ping@ubuntu1404:~/Dropbox/my-git-repo/about$ git lg
* 1476df4 - (HEAD -&gt; about) add html page me.html (5 seconds ago)&lt;ping&gt;     #&lt;------
* 1c10864 - add contents to about page (52 minutes ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>add two more commits:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo/about$ touch mary.html
ping@ubuntu1404:~/Dropbox/my-git-repo/about$ git add mary.html
ping@ubuntu1404:~/Dropbox/my-git-repo/about$ git cm -am "add empty page mary.html"
[about e89f652] add empty page mary.html
 1 file changed, 0 insertions(+), 0 deletions(-)
 create mode 100644 about/mary.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ vim index.html
ping@ubuntu1404:~/Dropbox/my-git-repo$ git cm -am "add link to about section in home page"
[about 3ff82ae] add link to about section in home page
 1 file changed, 3 insertions(+)</pre>
</div>
</div>
<div class="paragraph">
<p>now there are totally 4 continue commits</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git lg
* 3ff82ae - (HEAD -&gt; about) add link to about section in home page (9 seconds ago)&lt;ping&gt;    #&lt;------
* e89f652 - add empty page mary.html (3 minutes ago)&lt;ping&gt;          #&lt;------
* 1476df4 - add html page me.html (5 minutes ago)&lt;ping&gt;             #&lt;------
* 1c10864 - add contents to about page (56 minutes ago)&lt;ping&gt;       #&lt;------</pre>
</div>
</div>
<div class="paragraph">
<p>now, start an "interactive" rebase, to rebase(merge) the commits,</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git rebase -i master</pre>
</div>
</div>
<div class="paragraph">
<p>this reads: rebase all commits from "after" master, till head of current about
branch - so there are 4 commits available for rebase.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git rebase -i master
[detached HEAD ea50b8a] add contents to about page &amp; add html page me.html
 Date: Fri Jan 20 00:14:55 2017 -0500
 2 files changed, 36 insertions(+)
 create mode 100644 about/index.html
 create mode 100644 about/me.html
[detached HEAD 1f5905c] add empty page mary.html &amp; add link to about section in home page
 Date: Fri Jan 20 13:48:53 2017 -0500
 2 files changed, 3 insertions(+)
 create mode 100644 about/mary.html
Successfully rebased and updated refs/heads/about.</pre>
</div>
</div>
<div class="paragraph">
<p>this process will start the editor to edit the rebase commands for each commit:</p>
</div>
<div class="paragraph">
<p>'pick', 'squash' command &#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>use 'squash' command on 'e89f652' and '1c10864', leave the other 2 with the
default 'pick' command.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22170436/5834d24c-df4b-11e6-9981-3571f834aa33.png" alt="5834d24c df4b 11e6 9981 3571f834aa33">
</div>
</div>
<div class="paragraph">
<p>comparing before and after rebase:</p>
</div>
<div class="paragraph">
<p>before rebase:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git lg
* 3ff82ae - (HEAD -&gt; about) add link to about section in home page (9 seconds ago)&lt;ping&gt;    #&lt;------
* e89f652 - add empty page mary.html (3 minutes ago)&lt;ping&gt;          #&lt;------
* 1476df4 - add html page me.html (5 minutes ago)&lt;ping&gt;             #&lt;------
* 1c10864 - add contents to about page (56 minutes ago)&lt;ping&gt;       #&lt;------
* 4f5e749 - (master) Add article for 2nd news item (65 minutes ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>after rebase, 4 commits got merged into 2 (new ones), and commit history shows:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git lg
* 1f5905c - (HEAD -&gt; about) add empty page mary.html &amp; add link to about section in home page (13 seconds ago)&lt;ping&gt;        #&lt;------
* ea50b8a - add contents to about page &amp; add html page me.html (50 seconds ago)&lt;ping&gt;       #&lt;------
* 4f5e749 - (master) Add article for 2nd news item (8 hours ago)&lt;ping&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__edit"><a class="anchor" href="#__edit"></a>12.2.2. 'edit'</h4>
<div class="paragraph">
<p>if repeat the same rebase command again:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git rebase -i master</pre>
</div>
</div>
<div class="paragraph">
<p>the editor will again be opened, but now contains only 2 commits to rebase:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>pick ea50b8a add contents to about page &amp; add html page me.html
pick 1f5905c add empty page mary.html &amp; add link to about section in home page      #&lt;------will "edit" this</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># Rebase 4f5e749..1f5905c onto 4f5e749 (2 commands)
#
# Commands:
# p, pick = use commit
# r, reword = use commit, but edit the commit message
# e, edit = use commit, but stop for amending
# s, squash = use commit, but meld into previous commit
# f, fixup = like "squash", but discard this commit's log message
# x, exec = run command (the rest of the line) using shell
# d, drop = remove commit
#
# These lines can be re-ordered; they are executed from top to bottom.
#
# If you remove a line here THAT COMMIT WILL BE LOST.
#
# However, if you remove everything, the rebase will be aborted.
#
# Note that empty commits are commented out</pre>
</div>
</div>
<div class="paragraph">
<p>this time try 'edit' command, put it on '1f5905c', make above editor content
looks:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>pick ea50b8a add contents to about page &amp; add html page me.html
edit 1f5905c add empty page mary.html &amp; add link to about section in home page      #&lt;------will "edit" this</pre>
</div>
</div>
<div class="paragraph">
<p>quit editor. now, that (last) commit '1f5905c' is marked to be used for next
commit.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git rebase -i master
Stopped at 1f5905c... add empty page mary.html &amp; add link to about section in home page
You can amend the commit now, with</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>git commit --amend</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Once you are satisfied with your changes, run</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>git rebase --continue</pre>
</div>
</div>
<div class="paragraph">
<p>now make a new change:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ echo "[Mary, please update your bio! ]" &gt;&gt; about/index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git st
interactive rebase in progress; onto 4f5e749
Last commands done (2 commands done):
   pick ea50b8a add contents to about page &amp; add html page me.html
   edit 1f5905c add empty page mary.html &amp; add link to about section in home page
No commands remaining.
You are currently editing a commit while rebasing branch 'about' on '4f5e749'.
  (use "git commit --amend" to amend the current commit)
  (use "git rebase --continue" once you are satisfied with your changes)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>modified:   about/index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>no changes added to commit (use "git add" and/or "git commit -a")</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git add about/index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git st
interactive rebase in progress; onto 4f5e749
Last commands done (2 commands done):
   pick ea50b8a add contents to about page &amp; add html page me.html
   edit 1f5905c add empty page mary.html &amp; add link to about section in home page
No commands remaining.
You are currently editing a commit while rebasing branch 'about' on '4f5e749'.
  (use "git commit --amend" to amend the current commit)
  (use "git rebase --continue" once you are satisfied with your changes)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>modified:   about/index.html</pre>
</div>
</div>
<div class="paragraph">
<p>use 'git commit --amend' to commit:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git commit --amend
add empty page mary.html &amp; add link to about section in home page</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># Please enter the commit message for your changes. Lines starting
# with '#' will be ignored, and an empty message aborts the commit.
#
# Date:      Fri Jan 20 13:48:53 2017 -0500
#
# interactive rebase in progress; onto 4f5e749
# Last commands done (2 commands done):
#    pick ea50b8a add contents to about page &amp; add html page me.html
#    edit 1f5905c add empty page mary.html &amp; add link to about section in home page
# No commands remaining.
# You are currently splitting a commit while rebasing branch 'about' on '4f5e749'.
#
# Changes to be committed:
#       modified:   about/index.html
#       new file:   about/mary.html
#       modified:   index.html
#</pre>
</div>
</div>
<div class="paragraph">
<p>quit editor:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>               VVVVVVV
[detached HEAD a53697e] add empty page mary.html &amp; add link to about section in home page
 Date: Fri Jan 20 13:48:53 2017 -0500
 3 files changed, 4 insertions(+)
 create mode 100644 about/mary.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git st
interactive rebase in progress; onto 4f5e749
Last commands done (2 commands done):
   pick ea50b8a add contents to about page &amp; add html page me.html
   edit 1f5905c add empty page mary.html &amp; add link to about section in home page
No commands remaining.
You are currently editing a commit while rebasing branch 'about' on '4f5e749'.
  (use "git commit --amend" to amend the current commit)
  (use "git rebase --continue" once you are satisfied with your changes)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>nothing to commit, working tree clean</pre>
</div>
</div>
<div class="paragraph">
<p>use 'git commit --continue' to mark finishing this rebase and continue:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git rebase --continue
Successfully rebased and updated refs/heads/about.
ping@ubuntu1404:~/Dropbox/my-git-repo$</pre>
</div>
</div>
<div class="paragraph">
<p>it looks, the old commit '1f5905c' was "edited", and new change got merged with
it and replaced with a new commit ID 'a53697e':</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git lg
* a53697e - (HEAD -&gt; about) add empty page mary.html &amp; add link to about section in home page (15 minutes ago)&lt;ping&gt;        #&lt;------
* ea50b8a - add contents to about page &amp; add html page me.html (7 hours ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>the result is, a new commit "merged" with and existing one into one single
(new) commit.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git reflog
a53697e HEAD@{0}: rebase -i (finish): returning to refs/heads/about
a53697e HEAD@{1}: commit (amend): add empty page mary.html &amp; add link to about section in home page
9bebb92 HEAD@{2}: commit (amend): add empty page mary.html &amp; add link to about section in home page</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_changing_history"><a class="anchor" href="#_changing_history"></a>13. changing history</h2>
<div class="sectionbody">
<div class="paragraph">
<p>before any changes:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git br -a
* master</pre>
</div>
</div>
<div class="paragraph">
<p>branch off of master to commit some change:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git co -b new-pages
Switched to a new branch 'new-pages'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git br
  master
* new-pages</pre>
</div>
</div>
<div class="sect2">
<h3 id="_1st_changes"><a class="anchor" href="#_1st_changes"></a>13.1. 1st changes:</h3>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ vim red.html
ping@ubuntu1404:~/rewriting-history$ vim yellow.html
ping@ubuntu1404:~/rewriting-history$ vim index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git st
On branch new-pages
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>modified:   index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>red.html
yellow.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>no changes added to commit (use "git add" and/or "git commit -a")</pre>
</div>
</div>
<div class="paragraph">
<p>staging changes and commit</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git add red.html yellow.html index.html
ping@ubuntu1404:~/rewriting-history$ git cm -m "add new html pages"
[new-pages 0a7eff9] add new html pages
 3 files changed, 31 insertions(+)
 create mode 100644 red.html
 create mode 100644 yellow.html</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_2nd_change"><a class="anchor" href="#_2nd_change"></a>13.2. 2nd change:</h3>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ vim green.html
ping@ubuntu1404:~/rewriting-history$ git st
On branch new-pages
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>modified:   index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>green.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>no changes added to commit (use "git add" and/or "git commit -a")</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git add green.html index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git st
On branch new-pages
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>new file:   green.html
modified:   index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git cm -m "add green page"
[new-pages 7956259] add green page
 2 files changed, 16 insertions(+)
 create mode 100644 green.html</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_define_the_desired_commit_sequence"><a class="anchor" href="#_define_the_desired_commit_sequence"></a>13.3. define the desired commit sequence</h3>
<div class="paragraph">
<p>so far the commit history looks:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git lg -3
* 7956259 - (HEAD -&gt; new-pages) add green page (25 seconds ago)&lt;ping&gt;   <i class="conum" data-value="1"></i><b>(1)</b>
* 0a7eff9 - add new html pages (3 minutes ago)&lt;ping&gt;                    <i class="conum" data-value="2"></i><b>(2)</b>
* 5fa9624 - (master) Add link to about section in home page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>commit 1</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>commit 2</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>this looks <strong>BAD</strong> commit history. want to split the first commits to reflect
the more nature commit flow:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>change red page, desired 1st commit</p>
</li>
<li>
<p>change yellow page, desired 2nd commit</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_use_rebase_to_edit_first_commit"><a class="anchor" href="#_use_rebase_to_edit_first_commit"></a>13.4. use rebase to edit first commit</h3>
<div class="paragraph">
<p>so to 'rebase' all additional commits comparing to 'master':</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git rebase -i master</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>edit 0a7eff9 add new html pages <i class="conum" data-value="1"></i><b>(1)</b>
pick 7956259 add green page     <i class="conum" data-value="2"></i><b>(2)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>change to "edit" the 1st commit</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>"pick" (default) the 2nd commit</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>now the commit history stop at where we want to "edit", so the next commit
won&#8217;t show up in commit history:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git lg -3
* 0a7eff9 - (HEAD) add new html pages (8 minutes ago)&lt;ping&gt;         #&lt;------
* 5fa9624 - (master) Add link to about section in home page (4 years, 1 month ago)&lt;Ryan&gt;
* b490c20 - Begin creating bio pages (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>now the commit diagram looks:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>       new-pages/HEAD
         ^
         |
5fa9    0a7e    7956
|
v
master</pre>
</div>
</div>
<div class="paragraph">
<p>this goes back to after 1st commit and before 2nd commit</p>
</div>
</div>
<div class="sect2">
<h3 id="_reset_mixed_head_1"><a class="anchor" href="#_reset_mixed_head_1"></a>13.5. reset --mixed HEAD~1</h3>
<div class="paragraph">
<p>this will reset the HEAD , AND staged area, even 1 more commit further - going
back to the original commit before 1st new commit:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git reset --mixed HEAD~1
Unstaged changes after reset:
M       index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git lg -3
* 5fa9624 - (HEAD, master) Add link to about section in home page (4 years, 1 month ago)&lt;Ryan&gt;
* b490c20 - Begin creating bio pages (4 years, 1 month ago)&lt;Ryan&gt;
* 655c7d9 - Create the about page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>now the commit diagram looks same as before all changes:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>new-pages/HEAD
  ^
  |
 5fa9    0a7e    7956
 |
 v
 master</pre>
</div>
</div>
<div class="paragraph">
<p>this goes back to even before 1st commit executed - after 1st change made in
working dir, but before staging and commiting. or in another word, we removed
all new commits (moving HEAD back to where we were), but keep all file changes
that we&#8217;ve worked on. comparing with '--hard' version, which will recover
everything (commit history, staged area, AND working dir) , '--mixed' is what
we need - we don&#8217;t actually want to lose all changes.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git st
interactive rebase in progress; onto 5fa9624
Last command done (1 command done):
   edit 0a7eff9 add new html pages
Next command to do (1 remaining command):
   pick 7956259 add green page
  (use "git rebase --edit-todo" to view and edit)
You are currently splitting a commit while rebasing branch 'new-pages' on '5fa9624'.
  (Once your working directory is clean, run "git rebase --continue")</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>modified:   index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>red.html
yellow.html</pre>
</div>
</div>
<div class="paragraph">
<p>now we are not in any branches:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git br
* (no branch, rebasing new-pages)   #&lt;------
  master
  new-pages
ping@ubuntu1404:~/rewriting-history$</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_produce_the_desired_1st_commit"><a class="anchor" href="#_produce_the_desired_1st_commit"></a>13.6. produce the desired 1st commit</h3>
<div class="paragraph">
<p>now change/split the 1st change , and produce one meaningful "atom" commit:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ vim red.html
ping@ubuntu1404:~/rewriting-history$ vim index.html
ping@ubuntu1404:~/rewriting-history$ git add red.html index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git st
interactive rebase in progress; onto 5fa9624
Last command done (1 command done):
   edit 0a7eff9 add new html pages
Next command to do (1 remaining command):
   pick 7956259 add green page
  (use "git rebase --edit-todo" to view and edit)
You are currently editing a commit while rebasing branch 'new-pages' on '5fa9624'.
  (use "git commit --amend" to amend the current commit)
  (use "git rebase --continue" once you are satisfied with your changes)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>modified:   index.html
new file:   red.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>yellow.html</pre>
</div>
</div>
<div class="paragraph">
<p>so far this looks our desired 1st commit - just commit changes regarding
"adding a red page", now commit the change:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git cm -m "add red page"
[detached HEAD ccc8349] add red page
 2 files changed, 18 insertions(+)
 create mode 100644 red.html</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git st
interactive rebase in progress; onto 5fa9624            <i class="conum" data-value="1"></i><b>(1)</b>
Last command done (1 command done):                     <i class="conum" data-value="2"></i><b>(2)</b>
   edit 0a7eff9 add new html pages
Next command to do (1 remaining command):               <i class="conum" data-value="3"></i><b>(3)</b>
   pick 7956259 add green page
  (use "git rebase --edit-todo" to view and edit)
You are currently editing a commit while rebasing branch 'new-pages' on '5fa9624'.
  (use "git commit --amend" to amend the current commit)
  (use "git rebase --continue" once you are satisfied with your changes)

Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)

        yellow.html
nothing added to commit but untracked files present (use "git add" to track)</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>we are still in the middle of the "interactive rebase"</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>in the rebase process, we are doing the original 1st commit - editing 1st
commit - "edit 0a7e"</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>next step in the rebase process, is to do the 2nd original commit - "pick
7956"</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_producing_the_desired_2nd_commit"><a class="anchor" href="#_producing_the_desired_2nd_commit"></a>13.7. producing the desired 2nd commit</h3>
<div class="paragraph">
<p>repeat the above process, now group changes regarding "adding a yellow page",
and produce a 2nd commit:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ vim yellow.html
ping@ubuntu1404:~/rewriting-history$ vim index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git st
interactive rebase in progress; onto 5fa9624
Last command done (1 command done):
   edit 0a7eff9 add new html pages
Next command to do (1 remaining command):
   pick 7956259 add green page
  (use "git rebase --edit-todo" to view and edit)
You are currently splitting a commit while rebasing branch 'new-pages' on '5fa9624'.
  (Once your working directory is clean, run "git rebase --continue")</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>modified:   index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>yellow.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>no changes added to commit (use "git add" and/or "git commit -a")</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git add index.html yellow.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git st
interactive rebase in progress; onto 5fa9624
Last command done (1 command done):
   edit 0a7eff9 add new html pages
Next command to do (1 remaining command):
   pick 7956259 add green page
  (use "git rebase --edit-todo" to view and edit)
You are currently editing a commit while rebasing branch 'new-pages' on '5fa9624'.
  (use "git commit --amend" to amend the current commit)
  (use "git rebase --continue" once you are satisfied with your changes)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>modified:   index.html
new file:   yellow.html</pre>
</div>
</div>
<div class="paragraph">
<p>execute the 2nd desired commit:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git cm -m "add yellow page"
[detached HEAD c76ae68] add yellow page
 2 files changed, 16 insertions(+)
 create mode 100644 yellow.html</pre>
</div>
</div>
<div class="paragraph">
<p>now we can see the 2 new commits (both are our desired commits) are generated:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git lg -3
* c76ae68 - (HEAD) add yellow page (55 seconds ago)&lt;ping&gt;   #&lt;------
* ccc8349 - add red page (3 minutes ago)&lt;ping&gt;              #&lt;------
* 5fa9624 - (master) Add link to about section in home page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git ref -3
c76ae68 HEAD@{0}: commit: add yellow page   #&lt;------
ccc8349 HEAD@{1}: commit: add red page      #&lt;------
5fa9624 HEAD@{2}: reset: moving to HEAD~1</pre>
</div>
</div>
<div class="paragraph">
<p>but, we are still finishing rebase - we just splitted the original 1st commit
into 2 new desired commits, and we still need to process the original 2nd
commit.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git st
interactive rebase in progress; onto 5fa9624
Last command done (1 command done):
   edit 0a7eff9 add new html pages
Next command to do (1 remaining command):
   pick 7956259 add green page      #&lt;------
  (use "git rebase --edit-todo" to view and edit)
You are currently editing a commit while rebasing branch 'new-pages' on '5fa9624'.
  (use "git commit --amend" to amend the current commit)
  (use "git rebase --continue" once you are satisfied with your changes)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>nothing to commit, working tree clean</pre>
</div>
</div>
<div class="paragraph">
<p>otherwise we won&#8217;t be back to our original branch!</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git br
* (no branch, rebasing new-pages)   #&lt;------
  master
  new-pages</pre>
</div>
</div>
<div class="paragraph">
<p>commit diagram looks:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>new-pages
  ^
  |
 5fa9                0a7e    7956
 |    \
 v     --- ccc8 ---  c76a
 master               |
                      v
                     HEAD</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_run_rebase_continue_to_finish_rebase"><a class="anchor" href="#_run_rebase_continue_to_finish_rebase"></a>13.8. run 'rebase --continue' to finish rebase</h3>
<div class="paragraph">
<p>to finish the rebase process, there are something left to finish:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>apply other commits. in this case, we just done 'edit' 1st original commit,
still need to execute commands on other original commits - 1st original commit
(pick 7956)</p>
</li>
<li>
<p>get back to the original branch where we were - by moving the branch to
current HEAD</p>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git rebase --continue
Successfully rebased and updated refs/heads/new-pages.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git st
On branch new-pages
nothing to commit, working tree clean</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git lg -3
* 81d74e6 - (HEAD -&gt; new-pages) add green page (10 seconds ago)&lt;ping&gt;
* c76ae68 - add yellow page (82 seconds ago)&lt;ping&gt;
* ccc8349 - add red page (3 minutes ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git ref -5
81d74e6 HEAD@{0}: rebase -i (finish): returning to refs/heads/new-pages
81d74e6 HEAD@{1}: rebase -i (pick): add green page
c76ae68 HEAD@{2}: commit: add yellow page
ccc8349 HEAD@{3}: commit: add red page
5fa9624 HEAD@{4}: reset: moving to HEAD~1</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>now we are back to the original topic branch</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git br
  master
* new-pages</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/rewriting-history$ git st
On branch new-pages
nothing to commit, working tree clean</pre>
</div>
</div>
<div class="paragraph">
<p>commit diagram:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>                   (old1)  (old2)
5fa9                0a7e    7956
|    \
v     --- ccc8 ---  c76a -- 81d7
master  (split1)  (split2) (new2)
                             |
                             v
                            HEAD/new-pages</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>old1 &#8594; split1 + split2</p>
</li>
<li>
<p>old2 &#8594; new2</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_patching"><a class="anchor" href="#_patching"></a>14. patching</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre> 1 From 07b05e4198b55fc9b77114ff3149590fa6b616cd Mon Sep 17 00:00:00 2001
 2 From: Mary &lt;mary.example@rypress.com&gt;
 3 Date: Mon, 23 Jan 2017 01:12:50 -0500
 4 Subject: [PATCH] change pink to a manly color
 5
 6 ---
 7  pink.html | 3 +--
 8  1 file changed, 1 insertion(+), 2 deletions(-)
 9
10 diff --git a/pink.html b/pink.html
11 index a10f32d..11c50da 100644
12 --- a/pink.html
13 +++ b/pink.html
14 @@ -7,8 +7,7 @@
15  &lt;/head&gt;
16  &lt;body&gt;
17  &lt;h1 style="color: #F0F"&gt;The Pink Page&lt;/h1&gt;
18 -&lt;p&gt;Pink is &lt;span style="color: #F0F"&gt;girly,
19 -flirty and fun&lt;/span&gt;!&lt;/p&gt;
20 +&lt;p&gt;Only &lt;span style="color: #F0F"&gt;real men&lt;/span&gt; wear pink!&lt;/p&gt;
21  &lt;p&gt;&lt;a href="index.html"&gt;Return to home page&lt;/a&gt;&lt;/p&gt;
22  &lt;/body&gt;
23  &lt;/html&gt;
24 --
25 2.11.0
26</pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_command_reference"><a class="anchor" href="#_command_reference"></a>15. command reference</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_git_log"><a class="anchor" href="#_git_log"></a>15.1. git log</h3>
<div class="paragraph">
<p>display committed (not "staged") changes history.</p>
</div>
<div class="paragraph">
<p>TIPS: use 'git status' to display changes that is staged but before commited.</p>
</div>
<div class="paragraph">
<p>some most useful forms:</p>
</div>
<div class="literalblock">
<div class="title">display only the last one:</div>
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git log -1
commit 024b752b45baeccd73ad1707dc743541b1d1a924
Merge: ad9a8eb e566ff5
Author: ping &lt;songpingemail@gmail.com&gt;
Date:   Wed Jan 18 21:59:42 2017 -0500</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>merge with user2 &amp; fix confliction hello.py</pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
'git log -1' = 'git log HEAD~1..HEAD'
</td>
</tr>
</table>
</div>
<div class="literalblock">
<div class="title">display log for one specified file only:</div>
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git log --oneline hello.py
ad9a8eb add coding: utf-8
0df2b58 add hello.py and change readme.txt</pre>
</div>
</div>
<div class="paragraph">
<div class="title">display diff between branches</div>
<p>in feature but no in master</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git log master..feature</pre>
</div>
</div>
<div class="paragraph">
<p>in master but no in feature</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git log feature..master</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22172469/a33a7f6a-df75-11e6-954c-78e58abb2015.png" alt="a33a7f6a df75 11e6 954c 78e58abb2015">
</div>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p>pretty log display:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git log --pretty=oneline</pre>
</div>
</div>
<div class="paragraph">
<p>or just:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git log --oneline</pre>
</div>
</div>
<div class="paragraph">
<p>this equals to:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git log --pretty=oneline --abbrev-commit</pre>
</div>
</div>
<div class="paragraph">
<p>with graph:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git log --oneline --graph</pre>
</div>
</div>
<div class="paragraph">
<p>these variable forms can be joined together, and shortened with 'lg' alias:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git config --global alias.lg "log --color --graph --pretty=format:'%.....</pre>
</div>
</div>
<div class="paragraph">
<p>so a 'git lg' will suffice.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_config"><a class="anchor" href="#_git_config"></a>15.2. git config</h3>
<div class="paragraph">
<div class="title">global config</div>
<p>'git config --global CMD' will generate a "global" config file: ~/.gitconfig</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[user]
        name = ping
        email = songpingemail@gmail.com
        signingkey = A7323182
[color]
        status = auto
        branch = auto
        ui = true
[core]
        excludesfile = /home/ping/.gitignore
[merge]
        tool = vimdiff
[alias]
        co = checkout
        br = branch
        d = difftool
        last = log -1 HEAD
        cm = commit
        cst = status
        lo = log --pretty=oneline --abbrev-commit
        lg = log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr)%C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[diff]
        tool = vimdiff
[difftool]
        prompt = No
[credential]
        helper = cache --timeout=3600</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_clean"><a class="anchor" href="#_git_clean"></a>15.3. git clean</h3>
<div class="paragraph">
<p>git-clean - Remove untracked files from the working tree</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ touch temp.txt
ping@ubuntu1404:~/learngit$ ls
hello.py  LICENSE  readme.txt  temp.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git status
On branch dev
Your branch is up-to-date with 'origin/dev'.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>temp.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>nothing added to commit but untracked files present (use "git add" to track)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git clean
fatal: clean.requireForce defaults to true and neither -i, -n nor -f given; refusing to clean</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git clean -f
Removing temp.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git status
On branch dev
Your branch is up-to-date with 'origin/dev'.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>nothing to commit, working directory clean</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_checkout"><a class="anchor" href="#_git_checkout"></a>15.4. git checkout</h3>
<div class="sect3">
<h4 id="_checkout_commit"><a class="anchor" href="#_checkout_commit"></a>15.4.1. checkout &lt;COMMIT&gt;</h4>
<div class="ulist">
<ul>
<li>
<p>only move the HEAD, but not moving a branch</p>
</li>
<li>
<p>working dir will be changed accordingly</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22314534/10f0ad96-e330-11e6-8602-7f86fb34015d.png" alt="10f0ad96 e330 11e6 8602 7f86fb34015d">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22314560/3a1bd74a-e330-11e6-85df-11b8e20ebf1d.png" alt="3a1bd74a e330 11e6 85df 11b8e20ebf1d">
</div>
</div>
</div>
<div class="sect3">
<h4 id="_checkout_commit_file"><a class="anchor" href="#_checkout_commit_file"></a>15.4.2. checkout &lt;COMMIT&gt; &lt;FILE&gt;</h4>
<div class="ulist">
<ul>
<li>
<p>copy a file from repo to working dir</p>
</li>
<li>
<p>won&#8217;t change branch</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22316679/d240b99e-e33c-11e6-9d7b-15b561f0cc8b.png" alt="d240b99e e33c 11e6 9d7b 15b561f0cc8b">
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_reset"><a class="anchor" href="#_git_reset"></a>15.5. git reset</h3>
<div class="ulist">
<ul>
<li>
<p>moved (tip of) branch to some specific commits - like "goto"</p>
</li>
<li>
<p>can be used to "delete" some of commit</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22316226/e43122fe-e339-11e6-9057-f9e9dae8a579.png" alt="e43122fe e339 11e6 9057 f9e9dae8a579">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22316240/f4de9fd2-e339-11e6-9bbd-14279446f591.png" alt="f4de9fd2 e339 11e6 9bbd 14279446f591">
</div>
</div>
<div class="sect3">
<h4 id="_reset_commit"><a class="anchor" href="#_reset_commit"></a>15.5.1. reset &lt;COMMIT&gt;</h4>
<div class="ulist">
<ul>
<li>
<p>reset current HEAD to a specific commit</p>
</li>
<li>
<p>normally &lt;COMMIT&gt; is HEAD</p>
</li>
<li>
<p>influced by '--hard/mixed/soft'</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="__hard_mixed_soft"><a class="anchor" href="#__hard_mixed_soft"></a>--hard, --mixed, --soft</h5>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22313959/3a17237e-e32d-11e6-9927-fdca7222d034.png" alt="3a17237e e32d 11e6 9927 fdca7222d034">
</div>
</div>
<div class="paragraph">
<div class="title">hard:</div>
<p>reset all 3 components: working dir, stage, and repo</p>
</div>
<div class="paragraph">
<div class="title">mix</div>
<p>reset repo and stage, leave working dir unchanged</p>
</div>
<div class="paragraph">
<div class="title">soft</div>
<p>reset only repo</p>
</div>
</div>
<div class="sect4">
<h5 id="_git_reset_soft_commit"><a class="anchor" href="#_git_reset_soft_commit"></a>git reset --soft &lt;COMMIT&gt;</h5>
<div class="paragraph">
<p>just reset repo to &lt;COMMIT&gt;, leave working and staging area unchanged</p>
</div>
<div class="paragraph">
<p>say you made some commit on master:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git lg
* 3e1c310 - (HEAD -&gt; master) add contents to about page (2 seconds ago)&lt;ping&gt;       #&lt;------
* 69c1c12 - add empty page in about folder (75 seconds ago)&lt;ping&gt;   #&lt;------
*   359100f - Merge branch 'crazy' (17 minutes ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git br
* master</pre>
</div>
</div>
<div class="paragraph">
<p>but then regret: you should have put the work on a new branch instead of
master.  use '--soft' to move HEAD back to where just before the new work,
while still keeping the the new work undeleted.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git reset --soft 3591</pre>
</div>
</div>
<div class="paragraph">
<p>working dir remains unchanged - work not being lost:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ ls
index.html</pre>
</div>
</div>
<div class="paragraph">
<p>stage area also remain unchanged:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git st
On branch master
Changes to be committed:
  (use "git reset HEAD &lt;file&gt;..." to unstage)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>new file:   index.html</pre>
</div>
</div>
<div class="paragraph">
<p>now creating and switch to a new branch:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git co -b about
A       about/index.html    #&lt;------
Switched to a new branch 'about'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git br
* about
  master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git lg
*   359100f - (HEAD -&gt; about, master) Merge branch 'crazy' (21 minutes ago)&lt;ping&gt;
|\
| * 223b2bb - Add new item for rainbow (42 minutes ago)&lt;ping&gt;
| * 078238e - link index.html to rainbow.html (6 hours ago)&lt;ping&gt;
| * 1e6598d - add css stylesheet to rainbow.html (6 hours ago)&lt;ping&gt;
| *   7bdf73f - Merge branch 'master' into crazy (7 hours ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>the old work in working dir, and staged area, both still remains:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ ls
index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git st
On branch about
Changes to be committed:    #&lt;------
  (use "git reset HEAD &lt;file&gt;..." to unstage)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>new file:   index.html</pre>
</div>
</div>
<div class="paragraph">
<p>now commit the staged work:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git cm -am "add contents to about page"
[about aae3ff1] add contents to about page
 1 file changed, 17 insertions(+)
 create mode 100644 about/index.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git st
On branch about
nothing to commit, working tree clean</pre>
</div>
</div>
<div class="paragraph">
<p>the work now got committed in 'about' branch,</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git lg
* aae3ff1 - (HEAD -&gt; about) add contents to about page (34 seconds ago)&lt;ping&gt;       #&lt;------
*   359100f - (master) Merge branch 'crazy' (23 minutes ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>and not available in master (so working tree in master branch is also clean)</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo/about$ git co master
Switched to branch 'master'
ping@ubuntu1404:~/my-git-repo/about$ git st
fatal: unable to get current working directory: No such file or directory
ping@ubuntu1404:~/my-git-repo/about$ cd ..</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/my-git-repo$ git st
On branch master
nothing to commit, working tree clean</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="_git_reset_mixed_commit"><a class="anchor" href="#_git_reset_mixed_commit"></a>git reset --mixed &lt;COMMIT&gt;</h5>
<div class="paragraph">
<p>reset all 3 components: repo/staging area/working area, to what they were at
the time of &lt;COMMIT&gt;</p>
</div>
</div>
<div class="sect4">
<h5 id="_git_reset_hard_commit"><a class="anchor" href="#_git_reset_hard_commit"></a>git reset --hard &lt;COMMIT&gt;</h5>
<div class="paragraph">
<p>reset all 3 components: repo/staging area/working area, to what they were at
the time of &lt;COMMIT&gt;</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_reset_commit_file"><a class="anchor" href="#_reset_commit_file"></a>15.5.2. reset &lt;COMMIT&gt; &lt;FILE&gt;</h4>
<div class="ulist">
<ul>
<li>
<p>use &lt;COMMIT&gt; version of a file to reset the specified same file</p>
</li>
<li>
<p>normally &lt;COMMIT&gt; is 'HEAD'</p>
</li>
<li>
<p>not influced by '--soft/mix/hard'</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22316525/aac94490-e33b-11e6-8b70-032f01bce8ac.png" alt="aac94490 e33b 11e6 8b70 032f01bce8ac">
</div>
</div>
<div class="sect4">
<h5 id="_default_git_reset_undo_git_add"><a class="anchor" href="#_default_git_reset_undo_git_add"></a>default 'git reset' - undo 'git add'</h5>
<div class="paragraph">
<p>work on some change: here adding new file(s)</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ touch temp.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git status
On branch dev
Your branch is up-to-date with 'origin/dev'.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Untracked files:
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>temp.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>nothing added to commit but untracked files present (use "git add" to track)</pre>
</div>
</div>
<div class="paragraph">
<p>stage the change</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git add temp.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git status
On branch dev
Your branch is up-to-date with 'origin/dev'.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Changes to be committed:    #&lt;------
  (use "git reset HEAD &lt;file&gt;..." to unstage)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>new file:   temp.txt</pre>
</div>
</div>
<div class="paragraph">
<p>now regret, want to discard the changes in working dir and stage area:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>to undo stage (discard changes in stage), do a default reset:</p>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git reset</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git status
On branch dev
Your branch is up-to-date with 'origin/dev'.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Untracked files:    #&lt;------
  (use "git add &lt;file&gt;..." to include in what will be committed)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>temp.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>nothing added to commit but untracked files present (use "git add" to track)</pre>
</div>
</div>
</li>
<li>
<p>to remove untracked files in working dir:</p>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git clean -f
Removing temp.txt
ping@ubuntu1404:~/learngit$ git status
On branch dev
Your branch is up-to-date with 'origin/dev'.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>nothing to commit, working directory clean</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>same can be achieved via going back to status of last commit:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git reset --hard
HEAD is now at 1d2a2ea add a pink block of color</pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="__git_reset_head_2_foo_py"><a class="anchor" href="#__git_reset_head_2_foo_py"></a>15.5.3. 'git reset HEAD~2 foo.py'</h4>

</div>
</div>
<div class="sect2">
<h3 id="_git_revert"><a class="anchor" href="#_git_revert"></a>15.6. git revert</h3>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22316385/dbe492ce-e33a-11e6-8e6c-288e3901fcc6.png" alt="dbe492ce e33a 11e6 8e6c 288e3901fcc6">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22316394/e7774b22-e33a-11e6-94a8-51f5773de7a8.png" alt="e7774b22 e33a 11e6 94a8 51f5773de7a8">
</div>
</div>
<div class="paragraph">
<p>git-revert - Revert some existing commits</p>
</div>
<div class="paragraph">
<p>undo a commit</p>
</div>
<div class="paragraph">
<p>say I by mistake deleted a file and commited:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg
* 84042e4 - (HEAD -&gt; master) Revert "link html pages to stylesheet" (21 seconds ago)&lt;ping&gt;
* a3c8ea6 - delete css (52 seconds ago)&lt;ping&gt;       #&lt;------
* 12ecdfe - link html pages to stylesheet (7 minutes ago)&lt;ping&gt;
* 0d57262 - Add CSS stylesheet (10 minutes ago)&lt;ping&gt;
* 44f3a80 - Revert "Add navigation links" (45 minutes ago)&lt;ping&gt;
* bfae2e8 - Revert "Add a crazzzy experiment" (4 years, 1 month ago)&lt;Ryan&gt;
* e2e188a - Add a crazzzy experiment (4 years, 1 month ago)&lt;Ryan&gt;
* ebf439f - (tag: v1.0) Add navigation links (4 years, 1 month ago)&lt;Ryan&gt;
* 578959e - Create blue and orange pages (4 years, 1 month ago)&lt;Ryan&gt;
* 67af295 - Create index page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ ls
blue.html  index.html  orange.html</pre>
</div>
</div>
<div class="paragraph">
<p>I want to revert commit "a3c8":</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git revert a3c8
[master 6932529] Revert "delete css"
 1 file changed, 12 insertions(+)
 create mode 100644 style.css</pre>
</div>
</div>
<div class="paragraph">
<p>after this, the previous commit (to delete style.css file) is "reverted"
(undo):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ ls
blue.html  index.html  orange.html  style.css</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git st
On branch master
nothing to commit, working tree clean</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git br
  crazy
* master</pre>
</div>
</div>
<div class="paragraph">
<p>and git left a record for this 'revert' action:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg
* 6932529 - (HEAD -&gt; master) Revert "delete css" (21 seconds ago)&lt;ping&gt;     #&lt;------
* 84042e4 - Revert "link html pages to stylesheet" (64 seconds ago)&lt;ping&gt;
* a3c8ea6 - delete css (2 minutes ago)&lt;ping&gt;
* 12ecdfe - link html pages to stylesheet (8 minutes ago)&lt;ping&gt;
* 0d57262 - Add CSS stylesheet (10 minutes ago)&lt;ping&gt;
* 44f3a80 - Revert "Add navigation links" (46 minutes ago)&lt;ping&gt;
* bfae2e8 - Revert "Add a crazzzy experiment" (4 years, 1 month ago)&lt;Ryan&gt;
* e2e188a - Add a crazzzy experiment (4 years, 1 month ago)&lt;Ryan&gt;
* ebf439f - (tag: v1.0) Add navigation links (4 years, 1 month ago)&lt;Ryan&gt;
* 578959e - Create blue and orange pages (4 years, 1 month ago)&lt;Ryan&gt;
* 67af295 - Create index page (4 years, 1 month ago)&lt;Ryan&gt;</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_bare_repo"><a class="anchor" href="#_bare_repo"></a>15.7. bare repo</h3>
<div class="literalblock">
<div class="content">
<pre>git init --bare dir</pre>
</div>
</div>
<div class="paragraph">
<p>same as normal repo, but no working tree.</p>
</div>
<div class="paragraph">
<p>used as a central repo to hold pushed from all DEs.</p>
</div>
</div>
<div class="sect2">
<h3 id="_git_branch"><a class="anchor" href="#_git_branch"></a>15.8. git branch</h3>
<div class="paragraph">
<p>to remove a remote branch</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git push origin --delete &lt;branch_name&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>to list all (local and remote) branches:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git br -a</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_archive"><a class="anchor" href="#_git_archive"></a>15.9. git archive</h3>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git archive master --format=tar --output=../my-git-repo.master.tar
ping@ubuntu1404:~/Dropbox/git/my-git-repo$ ls -lct .. | head
total 104
-rw-rw-r-- 1 ping ping 20480 Jan 23 22:22 my-git-repo.master.tar    #&lt;------
drwxrwxr-x 4 ping ping  4096 Jan 23 01:53 marys-repo
drwxrwxr-x 4 ping ping  4096 Jan 23 01:47 my-git-repo
drwxrwxr-x 4 ping ping  4096 Jan 22 00:22 johns-repo
drwxrwxr-x 4 ping ping  4096 Jan 21 15:54 central-repo
lrwxrwxrwx 1 ping ping    35 Jan 21 00:01 learngit -&gt; /home/ping/mytest-project/learngit/</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git$ tar tf my-git-repo.master.tar
about/
about/index.html
about/mary.html
about/me.html
blue.html
green.html
index.html
news-1.html
news-2.html
news-3.html
orange.html
pink.html
rainbow.html
red.html
style.css
yellow.html</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_bunble"><a class="anchor" href="#_git_bunble"></a>15.10. git bunble</h3>
<div class="paragraph">
<p>create a bundle for a repo</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git bundle create ../my-git-repo.master.bundle master
Counting objects: 98, done.
Delta compression using up to 4 threads.
Compressing objects: 100% (95/95), done.
Writing objects: 100% (98/98), 11.55 KiB | 0 bytes/s, done.
Total 98 (delta 46), reused 0 (delta 0)
ping@ubuntu1404:~/my-git-repo$
ping@ubuntu1404:~/my-git-repo$
ping@ubuntu1404:~/my-git-repo$ git ref -3
1d2a2ea HEAD@{0}: merge patch-integration: Fast-forward
fe71224 HEAD@{1}: checkout: moving from patch-integration to master
1d2a2ea HEAD@{2}: am: add a pink block of color
ping@ubuntu1404:~/my-git-repo$ git lg -3
* 1d2a2ea - (HEAD -&gt; master, origin/master) add a pink block of color (21 hours ago)&lt;Mary&gt;
* 64ef382 - change pink to a manly color (21 hours ago)&lt;Mary&gt;
* fe71224 - (john/pink-page) add pink page (2 days ago)&lt;john&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>a binary bundle file is generated:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~$ cd Dropbox/git/
ping@ubuntu1404:~/Dropbox/git$ ls -lct | head
total 120
-rw-rw-r-- 1 ping ping 11900 Jan 23 22:25 my-git-repo.master.bundle #&lt;------
......</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git$ less my-git-repo.master.bundle
"my-git-repo.master.bundle" may be a binary file.  See it anyway?</pre>
</div>
</div>
<div class="paragraph">
<p>we use the bundle file as source repo, to clone a new repo. but &#8230;&#8203;</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git$ git clone my-git-repo.master.bundle my-git-repo.master.bundle.clone
Cloning into 'my-git-repo.master.bundle.clone'...
Receiving objects: 100% (98/98), 11.55 KiB | 0 bytes/s, done.
Resolving deltas: 100% (46/46), done.
warning: remote HEAD refers to nonexistent ref, unable to checkout.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git$ cd my-git-repo.master.bundle.clone/
ping@ubuntu1404:~/Dropbox/git/my-git-repo.master.bundle.clone$ ls -la
total 24
drwxrwxr-x 3 ping ping 4096 Jan 23 22:27 .
drwxrwxr-x 8 ping ping 4096 Jan 23 22:27 ..
drwxrwxr-x 7 ping ping 4096 Jan 23 22:27 .git       #&lt;------</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo.master.bundle.clone$ git lg -3
fatal: your current branch 'master' does not have any commits yet</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo.master.bundle.clone$ git br -a
  remotes/origin/master</pre>
</div>
</div>
<div class="paragraph">
<p>so it looks we have to specify a branch name:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git$ git clone my-git-repo.master.bundle my-git-repo.master.bundle.clone -b master
Cloning into 'my-git-repo.master.bundle.clone'...
Receiving objects: 100% (98/98), 11.55 KiB | 0 bytes/s, done.
Resolving deltas: 100% (46/46), done.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git$ cd my-git-repo.master.bundle.clone/
ping@ubuntu1404:~/Dropbox/git/my-git-repo.master.bundle.clone$ ls -l
about  blue.html  green.html  index.html  news-1.html  news-2.html
news-3.html  orange.html  pink.html  rainbow.html  red.html  style.css
yellow.html</pre>
</div>
</div>
<div class="paragraph">
<p>now we can see branch master, and only master (also remote master looks like)</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo.master.bundle.clone$ git br -a
* master
  remotes/origin/master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo.master.bundle.clone$ git lg -3
* 1d2a2ea - (HEAD -&gt; master, origin/master) add a pink block of color (21 hours ago)&lt;Mary&gt;
* 64ef382 - change pink to a manly color (21 hours ago)&lt;Mary&gt;
* fe71224 - add pink page (2 days ago)&lt;john&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>this is exactly the same with cloning from a normal repo, with '-b branch':</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git$ git clone my-git-repo my-git-repo.master -b master
Cloning into 'my-git-repo.master'...
done.
ping@ubuntu1404:~/Dropbox/git$ cd my-git-repo.master
ping@ubuntu1404:~/Dropbox/git/my-git-repo.master$ ls
about  blue.html  green.html  index.html  news-1.html  news-2.html
news-3.html  orange.html  pink.html  rainbow.html  red.html  style.css
yellow.html</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo.master$ git br -a
* master
  remotes/origin/HEAD -&gt; origin/master
  remotes/origin/master</pre>
</div>
</div>
<div class="paragraph">
<p>the original repo has all branches:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/Dropbox/git/my-git-repo.master$ cd ~/my-git-repo
ping@ubuntu1404:~/my-git-repo$ git br -a
* master
  remotes/john/pink-page
  remotes/origin/master</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_head_path_notation_sup_sup_n_n"><a class="anchor" href="#_git_head_path_notation_sup_sup_n_n"></a>15.11. git HEAD path notation: '<sup>[</sup>*]N' , '~N'</h3>
<div class="ulist">
<ul>
<li>
<p>'^': each '^' indicate one level up</p>
</li>
<li>
<p>'^N': the #N node in the (direct) up level, N can be omitted if it is 1</p>
</li>
<li>
<p>'~N': Nth upper level, first node in that level.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>so: '~3' = '<sup>1</sup>1^1' = '<sup>^</sup>1' = '<sup>^</sup>'</p>
</div>
<div class="literalblock">
<div class="content">
<pre>1   2   3   4</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>G   H   I   J
 \ /     \ /
  D   E   F
   \  |  / \
    \ | /   |
     \|/    |
      B     C
       \   /
        \ /
         A</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>A =      = A^0
B = A^   = A^1     = A~1
C = A^2  = A^2
D = A^^  = A^1^1   = A~2
E = B^2  = A^^2
F = B^3  = A^^3
G = A^^^ = A^1^1^1 = A~3
H = D^2  = B^^2    = A^^^2  = A~2^2
I = F^   = B^3^    = A^^3^
J = F^2  = B^3^2   = A^^3^2</pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://stackoverflow.com/questions/2221658/whats-the-difference-between-head-and-head-in-git" class="bare">http://stackoverflow.com/questions/2221658/whats-the-difference-between-head-and-head-in-git</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_git_diff"><a class="anchor" href="#_git_diff"></a>15.12. git diff</h3>
<div class="paragraph">
<p>current status and change history:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git st
On branch master
nothing to commit, working tree clean</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git lg -3
* 1d2a2ea - (HEAD -&gt; master, origin/master) add a pink block of color (2 days ago)&lt;Mary&gt;
* 64ef382 - change pink to a manly color (2 days ago)&lt;Mary&gt;
* fe71224 - (john/pink-page) add pink page (3 days ago)&lt;john&gt;</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>working dir           staged/indexed area              repository
                          (snapshot)                committed snapshot
             diff <i class="conum" data-value="1"></i><b>(1)</b>
   change    --------&gt;
             add
   change    --------&gt;
             add                    diff --cache <i class="conum" data-value="2"></i><b>(2)</b>
                                     ---------&gt;  v0
                                     commit

             |&lt;----------------diff HEAD------&gt;   <i class="conum" data-value="3"></i><b>(3)</b>

             add
   change    --------&gt;
                                         ---------&gt;  v1 (HEAD^)
                                         commit          ^
                                                         ||
       change    --------&gt;                               ||
                                                         ||diff HEAD..HEAD^ <i class="conum" data-value="4"></i><b>(4)</b>
                                                         ||
                                                         ||
                                                         |v
                                         ---------&gt;  v2 (HEAD)
                                         commit</pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>diff between working dir and staged/cache change</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>diff between staged/cached change and current HEAD</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>diff between working dir and current HEAD</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>diff between commits</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="__git_diff"><a class="anchor" href="#__git_diff"></a>15.12.1. 'git diff'</h4>

</div>
<div class="sect3">
<h4 id="__git_diff_cache"><a class="anchor" href="#__git_diff_cache"></a>15.12.2. 'git diff -cache'</h4>

</div>
<div class="sect3">
<h4 id="__git_diff_head"><a class="anchor" href="#__git_diff_head"></a>15.12.3. 'git diff HEAD'</h4>

</div>
<div class="sect3">
<h4 id="__git_diff_head_head_1"><a class="anchor" href="#__git_diff_head_head_1"></a>15.12.4. 'git diff HEAD..HEAD~1'</h4>
<div class="paragraph">
<p>diff between current committed version and previous commit in the repo:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git diff HEAD..HEAD~1
diff --git a/pink.html b/pink.html
index 8824548..11c50da 100644       #&lt;------file index
--- a/pink.html
+++ b/pink.html
@@ -4,17 +4,10 @@
 &lt;title&gt;The Pink Page&lt;/title&gt;
 &lt;link rel="stylesheet" href="style.css" /&gt;
 &lt;meta charset="utf-8" /&gt;
-&lt;style&gt;
-div {
-    width: 300px;
-    height: 50px;
-}
-&lt;/style&gt;
 &lt;/head&gt;
 &lt;body&gt;
 &lt;h1 style="color: #F0F"&gt;The Pink Page&lt;/h1&gt;
 &lt;p&gt;Only &lt;span style="color: #F0F"&gt;real men&lt;/span&gt; wear pink!&lt;/p&gt;
-&lt;div style="background-color: #F0F"&gt;&lt;/div&gt;
 &lt;p&gt;&lt;a href="index.html"&gt;Return to home page&lt;/a&gt;&lt;/p&gt;
 &lt;/body&gt;
 &lt;/html&gt;</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_git_show"><a class="anchor" href="#_git_show"></a>15.12.5. git show</h4>
<div class="paragraph">
<p>we can then use 'git show &lt;file index&gt;' to check the file(s) in comparison -
the 'file index' is shown in the 'git diff' output - what the file(s) looks
like at the moment of the two different versions, repectively.</p>
</div>
<div class="paragraph">
<p>at the moment of 'HEAD' (latest , current commit):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git show 8824
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;title&gt;The Pink Page&lt;/title&gt;
&lt;link rel="stylesheet" href="style.css" /&gt;
&lt;meta charset="utf-8" /&gt;
&lt;style&gt;
div {
    width: 300px;
    height: 50px;
}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1 style="color: #F0F"&gt;The Pink Page&lt;/h1&gt;
&lt;p&gt;Only &lt;span style="color: #F0F"&gt;real men&lt;/span&gt; wear pink!&lt;/p&gt;
&lt;div style="background-color: #F0F"&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href="index.html"&gt;Return to home page&lt;/a&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>at the moment of 'HEAD~1' - the parent commit of current one ('HEAD')</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git show 11c5
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
&lt;title&gt;The Pink Page&lt;/title&gt;
&lt;link rel="stylesheet" href="style.css" /&gt;
&lt;meta charset="utf-8" /&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h1 style="color: #F0F"&gt;The Pink Page&lt;/h1&gt;
&lt;p&gt;Only &lt;span style="color: #F0F"&gt;real men&lt;/span&gt; wear pink!&lt;/p&gt;
&lt;p&gt;&lt;a href="index.html"&gt;Return to home page&lt;/a&gt;&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>we can even manually generate a diff based on these 2 'git show' output:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ diff &lt;( git show 8824 ) &lt;(git show 11c5)
7,12d6
&lt; &lt;style&gt;
&lt; div {
&lt;     width: 300px;
&lt;     height: 50px;
&lt; }
&lt; &lt;/style&gt;
17d10
&lt; &lt;div style="background-color: #F0F"&gt;&lt;/div&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>this shows the exact same result as 'git diff', which is more convenient and
straightforward</p>
</div>
<div class="paragraph">
<p>to show diff between "2nd last" and "3rd last" commit:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git diff HEAD^..HEAD^^
diff --git a/pink.html b/pink.html
index 11c50da..a10f32d 100644
--- a/pink.html
+++ b/pink.html
@@ -7,7 +7,8 @@
 &lt;/head&gt;
 &lt;body&gt;
 &lt;h1 style="color: #F0F"&gt;The Pink Page&lt;/h1&gt;
-&lt;p&gt;Only &lt;span style="color: #F0F"&gt;real men&lt;/span&gt; wear pink!&lt;/p&gt;
+&lt;p&gt;Pink is &lt;span style="color: #F0F"&gt;girly,
+flirty and fun&lt;/span&gt;!&lt;/p&gt;
 &lt;p&gt;&lt;a href="index.html"&gt;Return to home page&lt;/a&gt;&lt;/p&gt;
 &lt;/body&gt;
 &lt;/html&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>'HEAD^' = 'HEAD~1':</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/my-git-repo$ git diff HEAD^..HEAD~1
ping@ubuntu1404:~/my-git-repo$</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_rebase"><a class="anchor" href="#_git_rebase"></a>15.13. git rebase</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_misc"><a class="anchor" href="#_misc"></a>16. misc</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_gitignore"><a class="anchor" href="#_gitignore"></a>16.1. gitignore</h3>
<div class="paragraph">
<p><a href="https://github.com/github/gitignore" class="bare">https://github.com/github/gitignore</a></p>
</div>
</div>
<div class="sect2">
<h3 id="_alias"><a class="anchor" href="#_alias"></a>16.2. alias</h3>
<div class="literalblock">
<div class="content">
<pre>git config --global alias.lg "log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr)%C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit"</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git lg
*   024b752 - (HEAD, origin/dev, dev) merge with user2 &amp; fix confliction hello.py (2 hours ago)&lt;ping&gt;
|\
| * e566ff5 - add /usr/bin/env python (3 hours ago)&lt;ping&gt;
* | ad9a8eb - add coding: utf-8 (2 hours ago)&lt;ping&gt;
|/
* 0df2b58 - add hello.py and change readme.txt (3 hours ago)&lt;ping&gt;
* 8eb7f3f - add merge (23 hours ago)&lt;ping&gt;
*   89fb295 - conflict fixed (24 hours ago)&lt;ping&gt;
|\
| * dae9a4b - AND simple (24 hours ago)&lt;ping&gt;
| * 06025b4 - AND simple (24 hours ago)&lt;ping&gt;
* | 71a9574 - &amp; simple (24 hours ago)&lt;ping&gt;
|/
* c63c858 - branch test (26 hours ago)&lt;ping&gt;
* 0cb81a3 - remove test.txt (27 hours ago)&lt;ping&gt;
* 1f9259c - add test.txt (27 hours ago)&lt;ping&gt;
* 3320c2b - extra comit than book (27 hours ago)&lt;ping&gt;
* 9321a6d - git tracks 2nd changes (2 days ago)&lt;ping&gt;
* b85642d - git tracks changes (2 days ago)&lt;ping&gt;
* e516429 - understand how stage works (2 days ago)&lt;ping&gt;
* 018259a - append GPL (2 days ago)&lt;ping&gt;
* f045d1e - (tag: v0.2) add distributed (2 days ago)&lt;ping&gt;
* d452688 - wrote a readme file (2 days ago)&lt;ping&gt;</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22112433/e7302850-de30-11e6-8566-3eaadc762de0.png" alt="e7302850 de30 11e6 8566 3eaadc762de0">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gui_clients"><a class="anchor" href="#_gui_clients"></a>16.3. gui clients</h3>
<div class="sect3">
<h4 id="_github_desktop"><a class="anchor" href="#_github_desktop"></a>16.3.1. github desktop</h4>

</div>
<div class="sect3">
<h4 id="_smartgit"><a class="anchor" href="#_smartgit"></a>16.3.2. smartgit</h4>

</div>
<div class="sect3">
<h4 id="_tower"><a class="anchor" href="#_tower"></a>16.3.3. tower</h4>

</div>
</div>
<div class="sect2">
<h3 id="__detached_head"><a class="anchor" href="#__detached_head"></a>16.4. 'detached HEAD'</h3>
<div class="ulist">
<div class="title">great doc:</div>
<ul>
<li>
<p><a href="https://www.git-tower.com/learn/git/faq/detached-head-when-checkout-commit" class="bare">https://www.git-tower.com/learn/git/faq/detached-head-when-checkout-commit</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>git checkout to a specific commit leads to 'detached HEAD'</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git branch
* dev
  issue-101
  master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git co d452
Note: checking out 'd452'.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>git checkout -b new_branch_name</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>HEAD is now at d452688... wrote a readme file</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ ls
readme.txt
ping@ubuntu1404:~/learngit$ cat readme.txt
Git is a version control system.
Git is free software.</pre>
</div>
</div>
<div class="paragraph">
<p>problem: couldn&#8217;t get back:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git co dev
error: Your local changes to the following files would be overwritten by checkout:
        readme.txt
Please, commit your changes or stash them before you can switch branches.
Aborting</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git status
HEAD detached at d452688
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>modified:   readme.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>no changes added to commit (use "git add" and/or "git commit -a")</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git log --oneline
d452688 wrote a readme file</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git reflog
d452688 HEAD@{0}: checkout: moving from dev to d452
024b752 HEAD@{1}: checkout: moving from master to dev
30da943 HEAD@{2}: checkout: moving from dev to master
......</pre>
</div>
</div>
<div class="sect3">
<h4 id="_finally_commit_and_switch_back"><a class="anchor" href="#_finally_commit_and_switch_back"></a>16.4.1. finally commit and switch back:</h4>
<div class="paragraph">
<p>commit:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git commit -am "temp"
[detached HEAD a6c5135] temp
 1 file changed, 0 insertions(+), 0 deletions(-)
 mode change 100644 =&gt; 100755 readme.txt</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git status
HEAD detached from d452688
nothing to commit, working directory clean
ping@ubuntu1404:~/learngit$ git br
* (detached from d452688)   #&lt;------
  dev
  issue-101
  master</pre>
</div>
</div>
<div class="paragraph">
<p>switch back:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git co dev
Warning: you are leaving 1 commit behind, not connected to
any of your branches:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>a6c5135 temp</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>If you want to keep them by creating a new branch, this may be a good time
to do so with:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>git branch new_branch_name a6c5135</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Switched to branch 'dev'
Your branch is up-to-date with 'origin/dev'.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git br
* dev       #&lt;------now we are back
  issue-101
  master</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git log --oneline
024b752 merge with user2 &amp; fix confliction hello.py
ad9a8eb add coding: utf-8
e566ff5 add /usr/bin/env python
0df2b58 add hello.py and change readme.txt
8eb7f3f add merge
89fb295 conflict fixed
.....</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ping@ubuntu1404:~/learngit$ git reflog
024b752 HEAD@{0}: checkout: moving from a6c5135b276bef1a050c6215a823c33512083e2a to dev     #&lt;------
a6c5135 HEAD@{1}: commit: temp                              #&lt;------
d452688 HEAD@{2}: checkout: moving from dev to d452         #&lt;------
024b752 HEAD@{3}: checkout: moving from master to dev
30da943 HEAD@{4}: checkout: moving from dev to master
024b752 HEAD@{5}: commit (merge): merge with user2 &amp; fix confliction hello.py</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_solution"><a class="anchor" href="#_solution"></a>16.4.2. solution</h4>
<div class="literalblock">
<div class="content">
<pre>$ git checkout -b test-branch 56a4e5c08</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>...do your thing...</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>$ git checkout master
$ git branch -d test-branch</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_git_hooks"><a class="anchor" href="#_git_hooks"></a>16.5. git hooks</h3>

</div>
</div>
</div>
<div class="sect1">
<h2 id="_import_rules"><a class="anchor" href="#_import_rules"></a>17. import rules</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_never_rebase_commits_that_have_been_pushed_to_a_shared_repo"><a class="anchor" href="#_never_rebase_commits_that_have_been_pushed_to_a_shared_repo"></a>17.1. never rebase commits that have been pushed to a shared repo</h3>
<div class="paragraph">
<p>suppose:
* you made 2 commits, then published/pushed to central remote
* you figured out you need a rebase - to squash the 2nd commit and just pick
  the 1st one
* you did the rebase in local</p>
</div>
<div class="paragraph">
<p>now the local and remote master will look:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="https://cloud.githubusercontent.com/assets/2038044/22170436/5834d24c-df4b-11e6-9981-3571f834aa33.png" alt="5834d24c df4b 11e6 9981 3571f834aa33">
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>pushed, before rebase                   pushed, then rebase</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>             origin/master                              origin/master
                 |                                          |
                 |                                          |
                 v                                          v
0 ------ a ----- b                         0 ------ a ----- b
                 ^                           \
                 |                            \
                 |                             ------------ c
            (local/)master
                                                            ^
                                                            |
                                                            |
                                                       (local/)master</pre>
</div>
</div>
<div class="paragraph">
<p>now in order to push the rebase to remote, a 3-way merge will be required, this
mess the flow and will confuse other DEs.</p>
</div>
<div class="paragraph">
<p>use 'revert'</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_common_issues"><a class="anchor" href="#_common_issues"></a>18. common issues</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_full_chart"><a class="anchor" href="#_full_chart"></a>19. full chart</h2>
<div class="sectionbody">
<div class="literalblock">
<div class="content">
<pre>working dir           staged/indexed area              repository
                          (snapshot)                committed snapshot</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>          diff
change    --------&gt;
          add
change    --------&gt;
          add                     diff --cache
                                  ---------&gt;  v0
                                  commit
change    --------&gt;
          add
                                  ---------&gt;  v1 (HEAD^)
                                  commit          ^
                                                  ||     HEAD^
change    --------&gt;                               ||
          add                                     ||reset --hard CMID
                                                  ||
                                                  ||diff HEAD..HEAD^
                                                  ||
                                                  |v     12345
                                  ---------&gt;  v2 (HEAD)
                                  commit</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>    diff HEAD
&lt;--------(-------------------------------------)
     checkout -- file.txt
     (discard change in working dir)
     or:
     clean -f (for untracked file)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>change    --------&gt;
          add
          &lt;-------
          unstage:
          reset HEAD file.txt
         (or just git reset)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>change
rm file.txt
          -------&gt;
          git rm
                                  ---------&gt;  vx (HEAD)
                                  commit (the rm)</pre>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
</div>
</div>
</body>
</html>